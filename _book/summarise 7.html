<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 32 summarise | DoSS Toolkit</title>
<meta name="author" content="Various authors">
<meta name="description" content="Written by Mariam Walaa.  32.1 Introduction In this lesson, you will learn how to: Summarize a variable using summarise() Summarize groups of observations within a variable using group_by()...">
<meta name="generator" content="bookdown 0.22.17 with bs4_book()">
<meta property="og:title" content="Chapter 32 summarise | DoSS Toolkit">
<meta property="og:type" content="book">
<meta property="og:description" content="Written by Mariam Walaa.  32.1 Introduction In this lesson, you will learn how to: Summarize a variable using summarise() Summarize groups of observations within a variable using group_by()...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 32 summarise | DoSS Toolkit">
<meta name="twitter:description" content="Written by Mariam Walaa.  32.1 Introduction In this lesson, you will learn how to: Summarize a variable using summarise() Summarize groups of observations within a variable using group_by()...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.10/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.5.1/tabs.js"></script><script src="libs/bs3compat-0.2.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="bs4_style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">DoSS Toolkit</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> About</a></li>
<li class="book-part">Hello World!</li>
<li><a class="" href="introduction.html"><span class="header-section-number">2</span> Introduction</a></li>
<li><a class="" href="getting-and-setting-up-rstudio.html"><span class="header-section-number">3</span> Getting and setting up RStudio</a></li>
<li><a class="" href="getting-to-know-what-is-what.html"><span class="header-section-number">4</span> Getting to know what is what</a></li>
<li><a class="" href="hello-world.html"><span class="header-section-number">5</span> Hello World!</a></li>
<li><a class="" href="hello-world-again.html"><span class="header-section-number">6</span> Hello World, again!</a></li>
<li><a class="" href="hello-world-again-1.html"><span class="header-section-number">7</span> Hello World, again!</a></li>
<li><a class="" href="the-r-community.html"><span class="header-section-number">8</span> The R community</a></li>
<li class="book-part">Operating in an error prone world</li>
<li><a class="" href="introduction-7.html"><span class="header-section-number">9</span> Introduction</a></li>
<li><a class="" href="getting-help-is-normal-learning-to-learn-r.html"><span class="header-section-number">10</span> Getting help is normal! – Learning to learn R</a></li>
<li><a class="" href="using-google-and-stack-overflow.html"><span class="header-section-number">11</span> Using Google and Stack Overflow</a></li>
<li><a class="" href="stack-overflow.html"><span class="header-section-number">12</span> Stack Overflow</a></li>
<li><a class="" href="when-your-code-doesnt-work.html"><span class="header-section-number">13</span> When your code doesn’t work</a></li>
<li><a class="" href="making-reproducible-examples.html"><span class="header-section-number">14</span> Making Reproducible Examples</a></li>
<li><a class="" href="how-to-make-the-most-of-rs-cryptic-error-messages.html"><span class="header-section-number">15</span> How to make the most of R’s cryptic error messages</a></li>
<li class="book-part">Holding the chaos at bay</li>
<li><a class="" href="introduction-13.html"><span class="header-section-number">16</span> Introduction</a></li>
<li><a class="" href="r-projects-and-working-directory.html"><span class="header-section-number">17</span> R Projects and working directory</a></li>
<li><a class="" href="folder-set-up.html"><span class="header-section-number">18</span> Folder set-up</a></li>
<li><a class="" href="writing-comments.html"><span class="header-section-number">19</span> Writing comments</a></li>
<li><a class="" href="installing-packages.html"><span class="header-section-number">20</span> Installing packages</a></li>
<li><a class="" href="install-from-github.html"><span class="header-section-number">21</span> Install from GitHub</a></li>
<li><a class="" href="calling-packages.html"><span class="header-section-number">22</span> Calling packages</a></li>
<li><a class="" href="updating-packages.html"><span class="header-section-number">23</span> Updating packages</a></li>
<li><a class="" href="read-csvs.html"><span class="header-section-number">24</span> Read CSVs</a></li>
<li><a class="" href="reading-tables-dta-and-other-data-types.html"><span class="header-section-number">25</span> Reading tables dta and other data types</a></li>
<li class="book-part">Hand me my plyrs</li>
<li><a class="" href="introduction-23.html"><span class="header-section-number">26</span> Introduction</a></li>
<li><a class="" href="what-is-the-tidyverse.html"><span class="header-section-number">27</span> What is the tidyverse?</a></li>
<li><a class="" href="the-pipe.html"><span class="header-section-number">28</span> The pipe</a></li>
<li><a class="" href="select.html"><span class="header-section-number">29</span> select</a></li>
<li><a class="" href="filter.html"><span class="header-section-number">30</span> filter</a></li>
<li><a class="" href="grouping-and-ungrouping.html"><span class="header-section-number">31</span> Grouping and ungrouping</a></li>
<li><a class="active" href="summarise.html"><span class="header-section-number">32</span> summarise</a></li>
<li><a class="" href="arrange.html"><span class="header-section-number">33</span> arrange</a></li>
<li><a class="" href="mutate.html"><span class="header-section-number">34</span> mutate</a></li>
<li><a class="" href="pivoting.html"><span class="header-section-number">35</span> pivoting</a></li>
<li><a class="" href="rename.html"><span class="header-section-number">36</span> rename</a></li>
<li><a class="" href="counting.html"><span class="header-section-number">37</span> counting</a></li>
<li><a class="" href="slice.html"><span class="header-section-number">38</span> slice</a></li>
<li><a class="" href="data-2.html"><span class="header-section-number">39</span> data</a></li>
<li><a class="" href="length-rows-columns-and-dimensions.html"><span class="header-section-number">40</span> length, rows, columns and dimensions</a></li>
<li class="book-part">Totally addicted to base</li>
<li><a class="" href="introduction-37.html"><span class="header-section-number">41</span> Introduction</a></li>
<li><a class="" href="mean-median-sd-lm-and-summary.html"><span class="header-section-number">42</span> mean, median, sd, lm, and summary</a></li>
<li><a class="" href="function.html"><span class="header-section-number">43</span> function</a></li>
<li><a class="" href="for-and-while.html"><span class="header-section-number">44</span> for and while</a></li>
<li><a class="" href="if-if-else-and-case-when.html"><span class="header-section-number">45</span> if, if else and case when</a></li>
<li><a class="" href="c-seq-seq-along-and-rep.html"><span class="header-section-number">46</span> c, seq, seq along, and rep</a></li>
<li><a class="" href="hist-plot-and-boxplot.html"><span class="header-section-number">47</span> hist, plot and boxplot</a></li>
<li class="book-part">He was a d8er boi</li>
<li><a class="" href="introduction-44.html"><span class="header-section-number">48</span> Introduction</a></li>
<li><a class="" href="head-tail-glimpse-and-summary.html"><span class="header-section-number">49</span> head, tail, glimpse and summary</a></li>
<li><a class="" href="paste-paste0-glue-and-stringr.html"><span class="header-section-number">50</span> paste, paste0, glue and stringr</a></li>
<li><a class="" href="names-rbind-and-cbind.html"><span class="header-section-number">51</span> names, rbind and cbind</a></li>
<li><a class="" href="joins.html"><span class="header-section-number">52</span> Joins</a></li>
<li><a class="" href="looking-for-missing-data.html"><span class="header-section-number">53</span> Looking for missing data</a></li>
<li><a class="" href="setseed-runif-rnorm-and-sample.html"><span class="header-section-number">54</span> setseed, runif, rnorm, and sample</a></li>
<li><a class="" href="simulating-datasets-for-regression.html"><span class="header-section-number">55</span> Simulating datasets for regression</a></li>
<li><a class="" href="conditional-mutating-and-summarising.html"><span class="header-section-number">56</span> Conditional mutating and summarising</a></li>
<li><a class="" href="tidying-up-datasets.html"><span class="header-section-number">57</span> Tidying up datasets</a></li>
<li><a class="" href="pull-pluck-and-unnest.html"><span class="header-section-number">58</span> pull, pluck and unnest</a></li>
<li><a class="" href="forcats-and-factors.html"><span class="header-section-number">59</span> forcats and factors</a></li>
<li><a class="" href="more-on-strings.html"><span class="header-section-number">60</span> More on strings</a></li>
<li><a class="" href="regular-expressions.html"><span class="header-section-number">61</span> Regular expressions</a></li>
<li><a class="" href="working-with-dates.html"><span class="header-section-number">62</span> Working with dates</a></li>
<li><a class="" href="janitor.html"><span class="header-section-number">63</span> janitor</a></li>
<li><a class="" href="tidyr-package.html"><span class="header-section-number">64</span> tidyr package</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/rstudio/bookdown-demo">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="summarise" class="section level1" number="32">
<h1>
<span class="header-section-number">32</span> summarise<a class="anchor" aria-label="anchor" href="#summarise"><i class="fas fa-link"></i></a>
</h1>
<p>Written by Mariam Walaa.</p>
<div id="introduction-28" class="section level2" number="32.1">
<h2>
<span class="header-section-number">32.1</span> Introduction<a class="anchor" aria-label="anchor" href="#introduction-28"><i class="fas fa-link"></i></a>
</h2>
<p>In this lesson, you will learn how to:</p>
<ul>
<li>Summarize a variable using <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise()</a></code>
</li>
<li>Summarize groups of observations within a variable using <code><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by()</a></code>
</li>
</ul>
<p>Prerequisite skills include:</p>
<ul>
<li>Using <code><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by()</a></code>
</li>
<li>Using summary functions like <code><a href="https://rdrr.io/r/base/sum.html">sum()</a></code>, <code><a href="https://rdrr.io/r/base/Extremes.html">min()</a></code>, <code><a href="https://rdrr.io/r/base/Extremes.html">max()</a></code>
</li>
</ul>
<p>Highlights:</p>
<ul>
<li>
<code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise()</a></code> is often used with <code><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by()</a></code>
</li>
<li>There are many summary functions you can use within <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise()</a></code>
</li>
<li>You can also define your own functions to use within <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise()</a></code>
</li>
</ul>
<div class="figure">
<img src="https://github.com/allisonhorst/stats-illustrations/blob/master/other-stats-artwork/summary_statistics.png?raw=true" id="id" class="class" width="750" height="500" alt=""><p class="caption">Source: <a href="https://github.com/allisonhorst/stats-illustrations" class="uri">https://github.com/allisonhorst/stats-illustrations</a> Credits: Allison
Horst</p>
</div>
</div>
<div id="arguments-3" class="section level2" number="32.2">
<h2>
<span class="header-section-number">32.2</span> Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"><i class="fas fa-link"></i></a>
</h2>
<p>The <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise()</a></code> function takes the following as arguments:</p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="18%">
<col width="18%">
<col width="62%">
</colgroup>
<thead><tr class="header">
<th>Argument</th>
<th>Parameter</th>
<th>Details</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>.data</td>
<td>data frame</td>
<td>a data frame containing variables we want to summarize</td>
</tr>
<tr class="even">
<td>name-value pairs</td>
<td>name-value pairs</td>
<td>this takes the name of the column and the summary function</td>
</tr>
</tbody>
</table></div>
<p>You can read more about the arguments in the <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise()</a></code> function documentation
<a href="https://www.rdocumentation.org/packages/dplyr/versions/0.7.8/topics/summarise">here</a>.</p>
</div>
<div id="overview-3" class="section level2" number="32.3">
<h2>
<span class="header-section-number">32.3</span> Overview<a class="anchor" aria-label="anchor" href="#overview-3"><i class="fas fa-link"></i></a>
</h2>
<p>This section will demonstrate how to use the <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise()</a></code> function to summarize variables
and groups within a variable in a data set. We will be looking at a data set of Broadway
shows with variables about the performances, attendance, and revenue for theaters that are
part of The Broadway League. You can learn more about the data set provided by Alex
Cookson in <a href="https://github.com/tacookson/data">the data repository</a> provided on GitHub, as
well as this corresponding <a href="https://www.alexcookson.com/post/most-successful-broadway-show-of-all-time/">blog
post</a>.</p>
<div class="sourceCode" id="cb142"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">broadway</span><span class="op">)</span>
<span class="co">#&gt; Rows: 47,524</span>
<span class="co">#&gt; Columns: 8</span>
<span class="co">#&gt; $ week_ending      &lt;date&gt; 1985-06-09, 1985-06-09, 1985-06-…</span>
<span class="co">#&gt; $ show             &lt;chr&gt; "42nd Street", "A Chorus Line", "…</span>
<span class="co">#&gt; $ theatre          &lt;chr&gt; "St. James Theatre", "Sam S. Shub…</span>
<span class="co">#&gt; $ weekly_gross     &lt;dbl&gt; 282368, 222584, 249272, 95688, 61…</span>
<span class="co">#&gt; $ avg_ticket_price &lt;dbl&gt; 30.42, 27.25, 33.75, 20.87, 20.78…</span>
<span class="co">#&gt; $ top_ticket_price &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ performances     &lt;dbl&gt; 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, …</span>
<span class="co">#&gt; $ previews         &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></code></pre></div>
<p>You will notice that there are 47,524 rows and 8 columns. Each row uniquely represents a
show that occurred on a specific week. Each column contains information about a
show that occurred in a specific week in a specific theater.</p>
<div id="question-1-1" class="section level3" number="32.3.1">
<h3>
<span class="header-section-number">32.3.1</span> Question 1<a class="anchor" aria-label="anchor" href="#question-1-1"><i class="fas fa-link"></i></a>
</h3>
<p>How many performances occurred in total?</p>
<div class="sourceCode" id="cb143"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">broadway</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>total_performances <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">performances</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1 × 1</span>
<span class="co">#&gt;   total_performances</span>
<span class="co">#&gt;                &lt;dbl&gt;</span>
<span class="co">#&gt; 1             343967</span></code></pre></div>
</div>
<div id="question-2-1" class="section level3" number="32.3.2">
<h3>
<span class="header-section-number">32.3.2</span> Question 2<a class="anchor" aria-label="anchor" href="#question-2-1"><i class="fas fa-link"></i></a>
</h3>
<p>How many performances occurred per week?</p>
<div class="sourceCode" id="cb144"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">broadway</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">week_ending</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>total_num_performances <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">performances</span><span class="op">)</span>, 
            .groups <span class="op">=</span> <span class="st">'drop'</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1,812 × 2</span>
<span class="co">#&gt;    week_ending total_num_performances</span>
<span class="co">#&gt;    &lt;date&gt;                       &lt;dbl&gt;</span>
<span class="co">#&gt;  1 1985-06-09                     137</span>
<span class="co">#&gt;  2 1985-06-16                     139</span>
<span class="co">#&gt;  3 1985-06-23                     134</span>
<span class="co">#&gt;  4 1985-06-30                     137</span>
<span class="co">#&gt;  5 1985-07-07                     136</span>
<span class="co">#&gt;  6 1985-07-14                     137</span>
<span class="co">#&gt;  7 1985-07-21                     137</span>
<span class="co">#&gt;  8 1985-07-28                     121</span>
<span class="co">#&gt;  9 1985-08-04                     121</span>
<span class="co">#&gt; 10 1985-08-11                     121</span>
<span class="co">#&gt; # … with 1,802 more rows</span></code></pre></div>
<p>The code for answering this second question is similar to the first question, except that
we need to group by the week_ending variable which describes each distinct week. After
grouping by the week, we use the summarise function to sum up all the performances for
each week.</p>
</div>
<div id="question-3-1" class="section level3" number="32.3.3">
<h3>
<span class="header-section-number">32.3.3</span> Question 3<a class="anchor" aria-label="anchor" href="#question-3-1"><i class="fas fa-link"></i></a>
</h3>
<p>How many performances <em>and</em> previews occurred per week?</p>
<div class="sourceCode" id="cb145"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">broadway</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">week_ending</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>total_num_performances <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">performances</span><span class="op">)</span>,
            total_num_previews <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">previews</span><span class="op">)</span>,
            .groups <span class="op">=</span> <span class="st">'drop'</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1,812 × 3</span>
<span class="co">#&gt;    week_ending total_num_performances total_num_previews</span>
<span class="co">#&gt;    &lt;date&gt;                       &lt;dbl&gt;              &lt;dbl&gt;</span>
<span class="co">#&gt;  1 1985-06-09                     137                 16</span>
<span class="co">#&gt;  2 1985-06-16                     139                  9</span>
<span class="co">#&gt;  3 1985-06-23                     134                  6</span>
<span class="co">#&gt;  4 1985-06-30                     137                  8</span>
<span class="co">#&gt;  5 1985-07-07                     136                  1</span>
<span class="co">#&gt;  6 1985-07-14                     137                  0</span>
<span class="co">#&gt;  7 1985-07-21                     137                  0</span>
<span class="co">#&gt;  8 1985-07-28                     121                  0</span>
<span class="co">#&gt;  9 1985-08-04                     121                  0</span>
<span class="co">#&gt; 10 1985-08-11                     121                  0</span>
<span class="co">#&gt; # … with 1,802 more rows</span></code></pre></div>
<p>Here, we are taking two sums, the sum of performances and the sum of previews, for each
distinct week.</p>
</div>
<div id="question-4-1" class="section level3" number="32.3.4">
<h3>
<span class="header-section-number">32.3.4</span> Question 4<a class="anchor" aria-label="anchor" href="#question-4-1"><i class="fas fa-link"></i></a>
</h3>
<p>How many performances occurred <em>per theatre</em> within each week?</p>
<pre><code class="language-r"><code>broadway %&gt;%<br>  group_by(week_ending, theatre) %&gt;%<br>  summarise(total_num_performances = sum(performances),<br>            <span style="color:red">.groups = 'drop'</span>)<br>#&gt; # A tibble: 45,776 × 3<br>#&gt;    week_ending theatre                      total_num_perfo…<br>#&gt;    <date>      <chr>                                   <dbl><br>#&gt;  1 1985-06-09  46th Street Theatre                         8<br>#&gt;  2 1985-06-09  Ambassador Theatre                          8<br>#&gt;  3 1985-06-09  Booth Theatre                               8<br>#&gt;  4 1985-06-09  Broadhurst Theatre                          0<br>#&gt;  5 1985-06-09  Broadway Theatre                            8<br>#&gt;  6 1985-06-09  Brooks Atkinson Theatre                     8<br>#&gt;  7 1985-06-09  Circle in the Square Theatre                8<br>#&gt;  8 1985-06-09  Edison Theatre                              9<br>#&gt;  9 1985-06-09  Eugene O'Neill Theatre                      8<br>#&gt; 10 1985-06-09  Gershwin Theatre                            0<br>#&gt; # … with 45,766 more rows</dbl></chr></date></code></code></pre>
<p>This is similar to the second question, except we are grouping by two variables this time.
This means we first group the distinct weeks, and then for each week, we group by the
theatres and sum up the performances for each theatre by week. For example, for Week 1,
there were X performances for Theatre A, Y performances for Theatre B, and Z performances
for Theatre C.</p>
<p>Notice that we include the <code>.groups</code> argument within each <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise()</a></code> function call
(highlighted in red). We mostly do this to keep the output clean, but you can learn more
about this argument by running<code><a href="https://dplyr.tidyverse.org/reference/summarise.html">?summarise</a></code> in your console.</p>
</div>
</div>
<div id="exercises-14" class="section level2" number="32.4">
<h2>
<span class="header-section-number">32.4</span> Exercises<a class="anchor" aria-label="anchor" href="#exercises-14"><i class="fas fa-link"></i></a>
</h2>
<p>This section will ask you to complete exercises based on what you’ve learned from the
previous section.</p>
<div id="exercise-1-7" class="section level3" number="32.4.1">
<h3>
<span class="header-section-number">32.4.1</span> Exercise 1<a class="anchor" aria-label="anchor" href="#exercise-1-7"><i class="fas fa-link"></i></a>
</h3>
<p>How many theaters do we have in this data set?</p>
<div class="sourceCode" id="cb146"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://dplyr.tidyverse.org/reference/n_distinct.html">n_distinct</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] 0</span></code></pre></div>
<div class="sourceCode" id="cb147"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Try naming it something simple and clear, like n_theatres</span></code></pre></div>
<!-- ```{r summarise-exercise-1-check} -->
<!-- grade_result(pass_if(~identical(.result, summarise_ex1_sol))) -->
<!-- ``` -->
</div>
<div id="exercise-2-5" class="section level3" number="32.4.2">
<h3>
<span class="header-section-number">32.4.2</span> Exercise 2<a class="anchor" aria-label="anchor" href="#exercise-2-5"><i class="fas fa-link"></i></a>
</h3>
<p>How many shows occurred per week?</p>
<div class="sourceCode" id="cb148"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://dplyr.tidyverse.org/reference/n_distinct.html">n_distinct</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] 0</span></code></pre></div>
<div class="sourceCode" id="cb149"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Try naming it something brief, like n_shows</span></code></pre></div>
<!-- ```{r summarise-exercise-2-check} -->
<!-- grade_result(pass_if(~identical(.result, summarise_ex2_sol))) -->
<!-- ``` -->
</div>
<div id="exercise-3-2" class="section level3" number="32.4.3">
<h3>
<span class="header-section-number">32.4.3</span> Exercise 3<a class="anchor" aria-label="anchor" href="#exercise-3-2"><i class="fas fa-link"></i></a>
</h3>
<p>What is the average number of performances across all theatres per week?</p>
<div class="sourceCode" id="cb150"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Try naming it something descriptive, like avg_num_performances</span></code></pre></div>
<!-- ```{r summarise-exercise-3-check} -->
<!-- grade_result(pass_if(~identical(.result, summarise_ex3_sol))) -->
<!-- ``` -->
</div>
<div id="exercise-4-1" class="section level3" number="32.4.4">
<h3>
<span class="header-section-number">32.4.4</span> Exercise 4<a class="anchor" aria-label="anchor" href="#exercise-4-1"><i class="fas fa-link"></i></a>
</h3>
<p>What is the minimum and maximum number of performances per week?</p>
<div class="sourceCode" id="cb151"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Try across()</span></code></pre></div>
<!-- ```{r summarise-exercise-4-check} -->
<!-- grade_result(pass_if(~identical(.result, summarise_ex4_sol))) -->
<!-- ``` -->
</div>
<div id="exercise-5" class="section level3" number="32.4.5">
<h3>
<span class="header-section-number">32.4.5</span> Exercise 5<a class="anchor" aria-label="anchor" href="#exercise-5"><i class="fas fa-link"></i></a>
</h3>
<p>What is the average top ticket price?</p>
<div class="sourceCode" id="cb152"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Try na.rm = TRUE</span></code></pre></div>
</div>
<div id="exercise-6" class="section level3" number="32.4.6">
<h3>
<span class="header-section-number">32.4.6</span> Exercise 6<a class="anchor" aria-label="anchor" href="#exercise-6"><i class="fas fa-link"></i></a>
</h3>
<p>Which weeks did shows have no performances or previews?</p>
<div class="sourceCode" id="cb153"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Try arrange()</span></code></pre></div>
</div>
<div id="exercise-7" class="section level3" number="32.4.7">
<h3>
<span class="header-section-number">32.4.7</span> Exercise 7<a class="anchor" aria-label="anchor" href="#exercise-7"><i class="fas fa-link"></i></a>
</h3>
<p>Select all the true statements about the <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise()</a></code> function from dplyr.</p>
<!-- ```{r summarise-exercise-7, echo = FALSE} -->
<!-- question("Which of these are true? Check all true statements.", -->
<!--          answer("summarise() can be used to summarize a variable into a single number.", -->
<!--                 correct = TRUE), -->
<!--          answer("summarise() can only use the same statistics as summary().", -->
<!--                 message = paste("summarise() does NOT use the same statistics as summary().", -->
<!--                 "We can use many more summary functions, and we can even define our own!")), -->
<!--          answer("summarise() can be applied on a group-level when used in combination with group_by().", -->
<!--                 correct = TRUE), -->
<!--          answer("summarise() and summarize() are two different functions.", -->
<!--                 message = "summarise() and summarize() are the same function within dplyr."), -->
<!--          answer("summarise() can only use summary functions that output a single number.", -->
<!--                 message = paste("summarise() cannot only output a single number summary.", -->
<!--                 "We can use functions like quantile() which outputs multiple numbers.")), -->
<!--          allow_retry = TRUE, -->
<!--          random_answer_order = TRUE) -->
<!-- ``` -->
</div>
</div>
<div id="common-mistakes-errors-9" class="section level2" number="32.5">
<h2>
<span class="header-section-number">32.5</span> Common Mistakes &amp; Errors<a class="anchor" aria-label="anchor" href="#common-mistakes-errors-9"><i class="fas fa-link"></i></a>
</h2>
<p>Below are some common mistakes and errors you may come across:</p>
<ul>
<li>You try to summarize a column that has NA values. Remember to include <code>na.rm = TRUE</code>.</li>
<li>You try to summarize a column that is not available in the data set (i.e., you
misspelled the column name, or it’s simply not in the data set).</li>
</ul>
</div>
<div id="next-steps-16" class="section level2" number="32.6">
<h2>
<span class="header-section-number">32.6</span> Next Steps<a class="anchor" aria-label="anchor" href="#next-steps-16"><i class="fas fa-link"></i></a>
</h2>
<p>If you would like to read more about the <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise()</a></code> function, here are some additional
resources you may find helpful:</p>
<ul>
<li>
<a href="https://r4ds.had.co.nz/transform.html#grouped-summaries-with-summarise">R 4 Data Science: <strong>Chapter 5.6</strong> Grouped summaries with
summarise</a>.</li>
<li><a href="https://r4ds.had.co.nz/transform.html#summarise-funs">R 4 Data Science: 5.6.4 Useful summary functions</a></li>
</ul>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="grouping-and-ungrouping.html"><span class="header-section-number">31</span> Grouping and ungrouping</a></div>
<div class="next"><a href="arrange.html"><span class="header-section-number">33</span> arrange</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#summarise"><span class="header-section-number">32</span> summarise</a></li>
<li><a class="nav-link" href="#introduction-28"><span class="header-section-number">32.1</span> Introduction</a></li>
<li><a class="nav-link" href="#arguments-3"><span class="header-section-number">32.2</span> Arguments</a></li>
<li>
<a class="nav-link" href="#overview-3"><span class="header-section-number">32.3</span> Overview</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#question-1-1"><span class="header-section-number">32.3.1</span> Question 1</a></li>
<li><a class="nav-link" href="#question-2-1"><span class="header-section-number">32.3.2</span> Question 2</a></li>
<li><a class="nav-link" href="#question-3-1"><span class="header-section-number">32.3.3</span> Question 3</a></li>
<li><a class="nav-link" href="#question-4-1"><span class="header-section-number">32.3.4</span> Question 4</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#exercises-14"><span class="header-section-number">32.4</span> Exercises</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#exercise-1-7"><span class="header-section-number">32.4.1</span> Exercise 1</a></li>
<li><a class="nav-link" href="#exercise-2-5"><span class="header-section-number">32.4.2</span> Exercise 2</a></li>
<li><a class="nav-link" href="#exercise-3-2"><span class="header-section-number">32.4.3</span> Exercise 3</a></li>
<li><a class="nav-link" href="#exercise-4-1"><span class="header-section-number">32.4.4</span> Exercise 4</a></li>
<li><a class="nav-link" href="#exercise-5"><span class="header-section-number">32.4.5</span> Exercise 5</a></li>
<li><a class="nav-link" href="#exercise-6"><span class="header-section-number">32.4.6</span> Exercise 6</a></li>
<li><a class="nav-link" href="#exercise-7"><span class="header-section-number">32.4.7</span> Exercise 7</a></li>
</ul>
</li>
<li><a class="nav-link" href="#common-mistakes-errors-9"><span class="header-section-number">32.5</span> Common Mistakes &amp; Errors</a></li>
<li><a class="nav-link" href="#next-steps-16"><span class="header-section-number">32.6</span> Next Steps</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/rstudio/bookdown-demo/blob/master/036-hand_me_my_plyrs-summarise.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/rstudio/bookdown-demo/edit/master/036-hand_me_my_plyrs-summarise.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>DoSS Toolkit</strong>" was written by Various authors. It was last built on 2021-09-06.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
