<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Chapter 54 forcats and factors | DoSS Toolkit</title>

    <meta name="author" content="Various authors" />
  
   <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::bs4_book,
set in the _output.yml file.</p>" />
   <meta name="generator" content="placeholder" />
  <meta property="og:title" content="Chapter 54 forcats and factors | DoSS Toolkit" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::bs4_book,
set in the _output.yml file.</p>" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 54 forcats and factors | DoSS Toolkit" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::bs4_book,
set in the _output.yml file.</p>" />
  
  <!-- JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script>
    <script src="libs/header-attrs-2.10/header-attrs.js"></script>
    <script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet" />
    <script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script>
    <script src="libs/bs3compat-0.2.5.1/tabs.js"></script>
    <script src="libs/bs3compat-0.2.5.1/bs3compat.js"></script>
    <link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet" />
    <script src="libs/bs4_book-1.0.0/bs4_book.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script>

  <!-- CSS -->
    <link rel="stylesheet" href="bs4_style.css" />
  
</head>

<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book">
    <a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">DoSS Toolkit</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
      </form>

      <nav aria-label="Table of contents">
        <h2>Table of contents</h2>
        <div id="book-toc"></div>

        <div class="book-extra">
          <p><a id="book-repo" href="#">View book source <i class="fab fa-github"></i></a></li></p>
        </div>
      </nav>
    </div>
  </header>

  <main class="col-sm-12 col-md-9 col-lg-7" id="content">
<div id="forcats-and-factors" class="section level1" number="54">
<h1><span class="header-section-number">Chapter 54</span> <code>forcats</code> and factors</h1>
<p><em>Written by Matthew Wankiewicz.</em></p>
<div id="introduction-50" class="section level2" number="54.1">
<h2><span class="header-section-number">54.1</span> Introduction</h2>
<p>In this lesson, you will learn about:</p>
<ul>
<li>Factors in R, how they work, what they do.</li>
<li>The <code>forcats</code> package.</li>
</ul>
<p>Highlights:</p>
<ul>
<li>Factors are a way of storing data in R. Instead of having many different combinations like a list of names or numbers, factors are usually created to represent a fixed number of values, such as levels (high, low, medium) or times (early, late, on-time). In other words, factors represent categorical data in R.</li>
<li><code>forcats</code> contains many functions that allow you to work with factors for plotting or further data analysis.</li>
</ul>
</div>
<div id="the-content-3" class="section level2" number="54.2">
<h2><span class="header-section-number">54.2</span> The Content</h2>
<p>Factors represent categorical variables in R. Factors are stored as integer levels in R, meaning that each level of a factor will be represented by an integer so R knows which one represents the maximum and minimum. Factors can be comprised of both integers and characters but the levels of these factors will be displayed as characters. The <code>factor</code> function can be used to create factors in R, it takes a vector of data and will turn it into a factor. This function can be used on columns in datasets to convert a column of data from numeric/character to a factor.</p>
<p><code>forcats</code> is a package that contains various functions to manipulate factors, it exists as its own package but is also included in the <code>tidyverse</code> package as well. The main goals of these functions are to help reorder and change factor levels, this is done by changing which levels appear at the front/back and also combining levels into other ones.</p>
<p>A helpful cheatsheet for <code>forcats</code> can be found <a href="https://github.com/rstudio/cheatsheets/blob/master/factors.pdf">here.</a></p>
</div>
<div id="factors" class="section level2" number="54.3">
<h2><span class="header-section-number">54.3</span> Factors</h2>
<p>The <code>factor</code> function allows you to take a vector and turn it into a factor. The vector used can be made up of characters or integers. Its main argument is the vector that you want to turn into a factor. An example of this is shown below.</p>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb343-1"><a href="forcats-and-factors.html#cb343-1" aria-hidden="true" tabindex="-1"></a>factor_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb343-2"><a href="forcats-and-factors.html#cb343-2" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(<span class="at">x =</span> factor_vector)</span>
<span id="cb343-3"><a href="forcats-and-factors.html#cb343-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3</span></span>
<span id="cb343-4"><a href="forcats-and-factors.html#cb343-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: 1 2 3</span></span></code></pre></div>
<p>In addition to the main argument, <code>factor</code> also has some optional arguments. These include <code>levels</code>, <code>labels</code> and <code>exclude</code>. <code>levels</code> tells R what the order of the levels are of your factor (which is highest/lowest), if you leave it empty it will make the levels in alphabetical order or increasing order for integers. <code>labels</code> will create labels for your factor and will set the order of your factor. <code>exclude</code> will take out a level that appears in your factor and replace those values with <code>&lt;NA&gt;</code>.</p>
<p>We can change the levels of our <code>factor_vector</code> from earlier using the <code>levels</code> argument.</p>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="forcats-and-factors.html#cb344-1" aria-hidden="true" tabindex="-1"></a>factor_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb344-2"><a href="forcats-and-factors.html#cb344-2" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(<span class="at">x =</span> factor_vector, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>)) <span class="do">## set levels to 2,1,3</span></span>
<span id="cb344-3"><a href="forcats-and-factors.html#cb344-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3</span></span>
<span id="cb344-4"><a href="forcats-and-factors.html#cb344-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: 2 1 3</span></span></code></pre></div>
<p>Using the <code>labels</code> argument, we can rename the levels of <code>factor_vector</code>. This will rename 1 to ‘one,’ 2 to ‘two’ and 3 to ‘three.’</p>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb345-1"><a href="forcats-and-factors.html#cb345-1" aria-hidden="true" tabindex="-1"></a>factor_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb345-2"><a href="forcats-and-factors.html#cb345-2" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(<span class="at">x =</span> factor_vector, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&#39;one&#39;</span>, <span class="st">&#39;two&#39;</span>, <span class="st">&#39;three&#39;</span>)) <span class="do">## set labels to &#39;one&#39;, &#39;two&#39;, &#39;three&#39;</span></span>
<span id="cb345-3"><a href="forcats-and-factors.html#cb345-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] one   two   three</span></span>
<span id="cb345-4"><a href="forcats-and-factors.html#cb345-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: one two three</span></span></code></pre></div>
<p>Using <code>exclude</code> we can exclude the number two from our factor.</p>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb346-1"><a href="forcats-and-factors.html#cb346-1" aria-hidden="true" tabindex="-1"></a>factor_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb346-2"><a href="forcats-and-factors.html#cb346-2" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(<span class="at">x =</span> factor_vector, <span class="at">exclude =</span> <span class="dv">2</span>)</span>
<span id="cb346-3"><a href="forcats-and-factors.html#cb346-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1    &lt;NA&gt; 3   </span></span>
<span id="cb346-4"><a href="forcats-and-factors.html#cb346-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: 1 3</span></span></code></pre></div>
<p>If you want to test if a column or set of data is a factor, you can use <code>is.factor</code>.</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb347-1"><a href="forcats-and-factors.html#cb347-1" aria-hidden="true" tabindex="-1"></a>factor_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb347-2"><a href="forcats-and-factors.html#cb347-2" aria-hidden="true" tabindex="-1"></a>new_factor <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="at">x =</span> factor_vector, <span class="at">exclude =</span> <span class="dv">2</span>)</span>
<span id="cb347-3"><a href="forcats-and-factors.html#cb347-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb347-4"><a href="forcats-and-factors.html#cb347-4" aria-hidden="true" tabindex="-1"></a><span class="fu">is.factor</span>(<span class="at">x =</span> new_factor)</span>
<span id="cb347-5"><a href="forcats-and-factors.html#cb347-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>You can also check the levels of a factor using <code>levels</code></p>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb348-1"><a href="forcats-and-factors.html#cb348-1" aria-hidden="true" tabindex="-1"></a>factor_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb348-2"><a href="forcats-and-factors.html#cb348-2" aria-hidden="true" tabindex="-1"></a>new_factor <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="at">x =</span> factor_vector)</span>
<span id="cb348-3"><a href="forcats-and-factors.html#cb348-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb348-4"><a href="forcats-and-factors.html#cb348-4" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(<span class="at">x =</span> new_factor)</span>
<span id="cb348-5"><a href="forcats-and-factors.html#cb348-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;1&quot; &quot;2&quot; &quot;3&quot;</span></span></code></pre></div>
</div>
<div id="forcats-1" class="section level2" number="54.4">
<h2><span class="header-section-number">54.4</span> Forcats</h2>
<p>There are many useful functions in the <code>forcats</code> library but this lesson will mainly focus on <code>fct_relevel</code> and <code>fct_reorder</code> while also looking briefly at <code>fct_count</code>, <code>fct_c</code> and <code>fct_lump</code>.</p>
<div id="fct_count" class="section level3" number="54.4.1">
<h3><span class="header-section-number">54.4.1</span> <code>fct_count</code></h3>
<p>This function can be used to count the number of values in each level of your factor. It takes one main argument, the factor you want to count. The other optional arguments (<code>sort</code>, <code>prop</code>) sort the most common levels to the top and can compute the proportion of the levels represented.</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb349-1"><a href="forcats-and-factors.html#cb349-1" aria-hidden="true" tabindex="-1"></a>random_factor <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>))</span>
<span id="cb349-2"><a href="forcats-and-factors.html#cb349-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_count</span>(random_factor)</span>
<span id="cb349-3"><a href="forcats-and-factors.html#cb349-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 4 × 2</span></span>
<span id="cb349-4"><a href="forcats-and-factors.html#cb349-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   f         n</span></span>
<span id="cb349-5"><a href="forcats-and-factors.html#cb349-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;fct&gt; &lt;int&gt;</span></span>
<span id="cb349-6"><a href="forcats-and-factors.html#cb349-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 1         5</span></span>
<span id="cb349-7"><a href="forcats-and-factors.html#cb349-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 2         4</span></span>
<span id="cb349-8"><a href="forcats-and-factors.html#cb349-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 3         5</span></span>
<span id="cb349-9"><a href="forcats-and-factors.html#cb349-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 4         2</span></span>
<span id="cb349-10"><a href="forcats-and-factors.html#cb349-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb349-11"><a href="forcats-and-factors.html#cb349-11" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_count</span>(random_factor, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span>
<span id="cb349-12"><a href="forcats-and-factors.html#cb349-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 4 × 2</span></span>
<span id="cb349-13"><a href="forcats-and-factors.html#cb349-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   f         n</span></span>
<span id="cb349-14"><a href="forcats-and-factors.html#cb349-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;fct&gt; &lt;int&gt;</span></span>
<span id="cb349-15"><a href="forcats-and-factors.html#cb349-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 1         5</span></span>
<span id="cb349-16"><a href="forcats-and-factors.html#cb349-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 3         5</span></span>
<span id="cb349-17"><a href="forcats-and-factors.html#cb349-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 2         4</span></span>
<span id="cb349-18"><a href="forcats-and-factors.html#cb349-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 4         2</span></span>
<span id="cb349-19"><a href="forcats-and-factors.html#cb349-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb349-20"><a href="forcats-and-factors.html#cb349-20" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_count</span>(random_factor, <span class="at">sort =</span> <span class="cn">TRUE</span>, <span class="at">prop =</span> <span class="cn">TRUE</span>)</span>
<span id="cb349-21"><a href="forcats-and-factors.html#cb349-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 4 × 3</span></span>
<span id="cb349-22"><a href="forcats-and-factors.html#cb349-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   f         n     p</span></span>
<span id="cb349-23"><a href="forcats-and-factors.html#cb349-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;fct&gt; &lt;int&gt; &lt;dbl&gt;</span></span>
<span id="cb349-24"><a href="forcats-and-factors.html#cb349-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 1         5 0.312</span></span>
<span id="cb349-25"><a href="forcats-and-factors.html#cb349-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 3         5 0.312</span></span>
<span id="cb349-26"><a href="forcats-and-factors.html#cb349-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 2         4 0.25 </span></span>
<span id="cb349-27"><a href="forcats-and-factors.html#cb349-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 4         2 0.125</span></span></code></pre></div>
</div>
<div id="fct_c" class="section level3" number="54.4.2">
<h3><span class="header-section-number">54.4.2</span> <code>fct_c</code></h3>
<p>This function takes factors with different levels and can combine them into one factor with the levels from the other factors. The only argument it takes are the factors you want to combine. We see that when using it on factors with levels ‘a’ and ‘b’ it will combine them into one factor with levels ‘a’ and ‘b.’</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb350-1"><a href="forcats-and-factors.html#cb350-1" aria-hidden="true" tabindex="-1"></a>factor_a <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="at">x =</span> <span class="st">&quot;a&quot;</span>)</span>
<span id="cb350-2"><a href="forcats-and-factors.html#cb350-2" aria-hidden="true" tabindex="-1"></a>factor_b <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="at">x =</span> <span class="st">&quot;b&quot;</span>)</span>
<span id="cb350-3"><a href="forcats-and-factors.html#cb350-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb350-4"><a href="forcats-and-factors.html#cb350-4" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_c</span>(factor_a, factor_b)</span>
<span id="cb350-5"><a href="forcats-and-factors.html#cb350-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] a b</span></span>
<span id="cb350-6"><a href="forcats-and-factors.html#cb350-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: a b</span></span></code></pre></div>
</div>
<div id="fct_lump-functions" class="section level3" number="54.4.3">
<h3><span class="header-section-number">54.4.3</span> <code>fct_lump</code> functions</h3>
<p>This group of functions takes levels and brings them together to form a level called “other.” The functions include:</p>
<ul>
<li><code>fct_lump_min:</code> This function takes a factor and a number which tells R whether to include the level in other. An optional argument is called <code>other_level</code>, this will change the name of the “other” level.</li>
<li><code>fct_lump_prop:</code> This function will lump levels that appear less than a certain proportion of times. For example, you can lump functions that make up less than 15% of your data.</li>
<li><code>fct_lump_n:</code> This function lumps all of the levels except the n most frequent ones.</li>
</ul>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="forcats-and-factors.html#cb351-1" aria-hidden="true" tabindex="-1"></a>random_factor <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>))</span>
<span id="cb351-2"><a href="forcats-and-factors.html#cb351-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb351-3"><a href="forcats-and-factors.html#cb351-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_lump_n</span>(random_factor, <span class="at">n =</span> <span class="dv">2</span>) <span class="co"># keep the 2 most frequent levels</span></span>
<span id="cb351-4"><a href="forcats-and-factors.html#cb351-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 1     1     1     Other 3     Other Other 3     Other</span></span>
<span id="cb351-5"><a href="forcats-and-factors.html#cb351-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [10] 1     Other 3     3     3     Other 1     1    </span></span>
<span id="cb351-6"><a href="forcats-and-factors.html#cb351-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: 1 3 Other</span></span>
<span id="cb351-7"><a href="forcats-and-factors.html#cb351-7" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_lump_prop</span>(random_factor, <span class="at">prop =</span> .<span class="dv">25</span>) <span class="co"># lump levels which appear less than 25 % of time</span></span>
<span id="cb351-8"><a href="forcats-and-factors.html#cb351-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 1     1     1     Other 3     Other Other 3     Other</span></span>
<span id="cb351-9"><a href="forcats-and-factors.html#cb351-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [10] 1     Other 3     3     3     Other 1     1    </span></span>
<span id="cb351-10"><a href="forcats-and-factors.html#cb351-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: 1 3 Other</span></span>
<span id="cb351-11"><a href="forcats-and-factors.html#cb351-11" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_lump_min</span>(random_factor, <span class="at">min =</span> <span class="dv">3</span>) <span class="co"># lump levels which appear less than 3 times</span></span>
<span id="cb351-12"><a href="forcats-and-factors.html#cb351-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 1     1     1     2     3     Other 2     3     2    </span></span>
<span id="cb351-13"><a href="forcats-and-factors.html#cb351-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [10] 1     Other 3     3     3     2     1     1    </span></span>
<span id="cb351-14"><a href="forcats-and-factors.html#cb351-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: 1 2 3 Other</span></span></code></pre></div>
</div>
<div id="fct_reorder" class="section level3" number="54.4.4">
<h3><span class="header-section-number">54.4.4</span> <code>fct_reorder</code></h3>
<p>This function is useful when working with factors because it allows you to reorder a factor you are working with by another variable. For example, you can reorder a factor with levels of different sports by the average height for the sports listed. The first argument for this function is the factor/variable you plan to re-order and the second will be the variable you are sorting the factor by.</p>
<p>Using the <code>expeditions</code> data which looks at Himalayan expeditions, we can reorder the levels of the seasons by the average peak height for each season. As you can see, by adding the <code>mutate</code> line we can change the order of the levels depending on the mean height reached that season.</p>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="forcats-and-factors.html#cb352-1" aria-hidden="true" tabindex="-1"></a>data_ex <span class="ot">&lt;-</span> expeditions <span class="sc">%&gt;%</span> </span>
<span id="cb352-2"><a href="forcats-and-factors.html#cb352-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season) <span class="sc">%&gt;%</span> </span>
<span id="cb352-3"><a href="forcats-and-factors.html#cb352-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_height =</span> <span class="fu">mean</span>(highpoint_metres, <span class="at">na.rm =</span> T))</span>
<span id="cb352-4"><a href="forcats-and-factors.html#cb352-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb352-5"><a href="forcats-and-factors.html#cb352-5" aria-hidden="true" tabindex="-1"></a>data_ex <span class="sc">%&gt;%</span> </span>
<span id="cb352-6"><a href="forcats-and-factors.html#cb352-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season, <span class="at">y =</span> mean_height)) <span class="sc">+</span></span>
<span id="cb352-7"><a href="forcats-and-factors.html#cb352-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb352-8"><a href="forcats-and-factors.html#cb352-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Plot without fct_reorder&quot;</span>)</span></code></pre></div>
<p><img src="073-he_was_a_d8er_boi-names_rbind_cbind_files/figure-html/reorder-expedition-1.png" width="672" /></p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="forcats-and-factors.html#cb353-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb353-2"><a href="forcats-and-factors.html#cb353-2" aria-hidden="true" tabindex="-1"></a>data_ex <span class="sc">%&gt;%</span> </span>
<span id="cb353-3"><a href="forcats-and-factors.html#cb353-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">season =</span> <span class="fu">fct_reorder</span>(season, mean_height)) <span class="sc">%&gt;%</span> </span>
<span id="cb353-4"><a href="forcats-and-factors.html#cb353-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season, <span class="at">y =</span> mean_height)) <span class="sc">+</span></span>
<span id="cb353-5"><a href="forcats-and-factors.html#cb353-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb353-6"><a href="forcats-and-factors.html#cb353-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Plot with fct_reorder&quot;</span>)</span></code></pre></div>
<p><img src="073-he_was_a_d8er_boi-names_rbind_cbind_files/figure-html/reorder-expedition-2.png" width="672" /></p>
<div class="sourceCode" id="cb354"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb354-1"><a href="forcats-and-factors.html#cb354-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb354-2"><a href="forcats-and-factors.html#cb354-2" aria-hidden="true" tabindex="-1"></a>data_sorted <span class="ot">&lt;-</span> data_ex <span class="sc">%&gt;%</span> </span>
<span id="cb354-3"><a href="forcats-and-factors.html#cb354-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">season =</span> <span class="fu">fct_reorder</span>(season, <span class="fu">desc</span>(mean_height)))</span>
<span id="cb354-4"><a href="forcats-and-factors.html#cb354-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb354-5"><a href="forcats-and-factors.html#cb354-5" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(<span class="fu">as.factor</span>(data_ex<span class="sc">$</span>season))</span>
<span id="cb354-6"><a href="forcats-and-factors.html#cb354-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Autumn&quot;  &quot;Spring&quot;  &quot;Summer&quot;  &quot;Unknown&quot; &quot;Winter&quot;</span></span>
<span id="cb354-7"><a href="forcats-and-factors.html#cb354-7" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(data_sorted<span class="sc">$</span>season)</span>
<span id="cb354-8"><a href="forcats-and-factors.html#cb354-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Spring&quot;  &quot;Autumn&quot;  &quot;Winter&quot;  &quot;Summer&quot;  &quot;Unknown&quot;</span></span></code></pre></div>
<p>We can see that the original order was alphabetical while the new sorted one is not.</p>
<p><code>fct_reorder</code> can also be used to sort factors in descending order. We will use the same dataset, but this time we will order the levels of seasons decreasing by number of staff hired</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="forcats-and-factors.html#cb355-1" aria-hidden="true" tabindex="-1"></a>crew_group <span class="ot">&lt;-</span>expeditions <span class="sc">%&gt;%</span> </span>
<span id="cb355-2"><a href="forcats-and-factors.html#cb355-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season) <span class="sc">%&gt;%</span> </span>
<span id="cb355-3"><a href="forcats-and-factors.html#cb355-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_staff =</span> <span class="fu">mean</span>(hired_staff, <span class="at">na.rm =</span> T))</span>
<span id="cb355-4"><a href="forcats-and-factors.html#cb355-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb355-5"><a href="forcats-and-factors.html#cb355-5" aria-hidden="true" tabindex="-1"></a>crew_group <span class="sc">%&gt;%</span> </span>
<span id="cb355-6"><a href="forcats-and-factors.html#cb355-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season, <span class="at">y =</span> mean_staff)) <span class="sc">+</span></span>
<span id="cb355-7"><a href="forcats-and-factors.html#cb355-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb355-8"><a href="forcats-and-factors.html#cb355-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Plot without fct_reorder&quot;</span>)</span></code></pre></div>
<p><img src="073-he_was_a_d8er_boi-names_rbind_cbind_files/figure-html/fct-reorder-desc-1.png" width="672" /></p>
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb356-1"><a href="forcats-and-factors.html#cb356-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb356-2"><a href="forcats-and-factors.html#cb356-2" aria-hidden="true" tabindex="-1"></a>crew_group <span class="sc">%&gt;%</span> </span>
<span id="cb356-3"><a href="forcats-and-factors.html#cb356-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">season =</span> <span class="fu">fct_reorder</span>(season, <span class="fu">desc</span>(mean_staff))) <span class="sc">%&gt;%</span> </span>
<span id="cb356-4"><a href="forcats-and-factors.html#cb356-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season, <span class="at">y =</span> mean_staff)) <span class="sc">+</span></span>
<span id="cb356-5"><a href="forcats-and-factors.html#cb356-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb356-6"><a href="forcats-and-factors.html#cb356-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Plot with fct_reorder&quot;</span>)</span></code></pre></div>
<p><img src="073-he_was_a_d8er_boi-names_rbind_cbind_files/figure-html/fct-reorder-desc-2.png" width="672" /></p>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb357-1"><a href="forcats-and-factors.html#cb357-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb357-2"><a href="forcats-and-factors.html#cb357-2" aria-hidden="true" tabindex="-1"></a>data_sorted <span class="ot">&lt;-</span> crew_group <span class="sc">%&gt;%</span> </span>
<span id="cb357-3"><a href="forcats-and-factors.html#cb357-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">season =</span> <span class="fu">fct_reorder</span>(season, <span class="fu">desc</span>(mean_staff)))</span>
<span id="cb357-4"><a href="forcats-and-factors.html#cb357-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb357-5"><a href="forcats-and-factors.html#cb357-5" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(<span class="fu">as.factor</span>(crew_group<span class="sc">$</span>season))</span>
<span id="cb357-6"><a href="forcats-and-factors.html#cb357-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Autumn&quot;  &quot;Spring&quot;  &quot;Summer&quot;  &quot;Unknown&quot; &quot;Winter&quot;</span></span>
<span id="cb357-7"><a href="forcats-and-factors.html#cb357-7" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(data_sorted<span class="sc">$</span>season)</span>
<span id="cb357-8"><a href="forcats-and-factors.html#cb357-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Spring&quot;  &quot;Winter&quot;  &quot;Summer&quot;  &quot;Autumn&quot;  &quot;Unknown&quot;</span></span></code></pre></div>
<p>Once again we see that the order of levels has switched from alphabetical to a different order.</p>
</div>
<div id="fct_relevel" class="section level3" number="54.4.5">
<h3><span class="header-section-number">54.4.5</span> <code>fct_relevel</code></h3>
<p>This function is used to change the levels of a factor. When R deals with levels in a factor, it sorts the levels of the factor in alphabetical order. This means that if your factor includes temperatures like “hot,” “cold” and “medium,” R will make the levels “cold,” “hot,” “medium.” This can be tricky when classifying the factor because you may want it in increasing temperature or certain order.</p>
<ul>
<li><code>fct_relevel</code> takes three arguments: the factor you want to relevel, the new order of the levels and <code>after</code> which tells R where you want the new order to occur (you can set <code>after=Inf</code> to bring your order to the end.)</li>
</ul>
<p>If you have a factor with levels “hot,” “cold” and “medium,” R will sort the levels alphabetically, meaning the order will be “cold,” “hot” and then “medium.” <code>fct_relevel</code> is one way to put the levels in the correct order. There are many ways to change the order, you can either write the order yourself or just move hot to the end using <code>after = Inf</code>.</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb358-1"><a href="forcats-and-factors.html#cb358-1" aria-hidden="true" tabindex="-1"></a>temperatures <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="st">&quot;hot&quot;</span>, <span class="st">&quot;cold&quot;</span>, <span class="st">&quot;medium&quot;</span>))</span>
<span id="cb358-2"><a href="forcats-and-factors.html#cb358-2" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(<span class="at">x =</span> temperatures)</span>
<span id="cb358-3"><a href="forcats-and-factors.html#cb358-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;cold&quot;   &quot;hot&quot;    &quot;medium&quot;</span></span>
<span id="cb358-4"><a href="forcats-and-factors.html#cb358-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb358-5"><a href="forcats-and-factors.html#cb358-5" aria-hidden="true" tabindex="-1"></a><span class="co"># use fct_relevel</span></span>
<span id="cb358-6"><a href="forcats-and-factors.html#cb358-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb358-7"><a href="forcats-and-factors.html#cb358-7" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_relevel</span>(temperatures, <span class="st">&quot;hot&quot;</span>, <span class="at">after =</span> <span class="cn">Inf</span>)</span>
<span id="cb358-8"><a href="forcats-and-factors.html#cb358-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] hot    cold   medium</span></span>
<span id="cb358-9"><a href="forcats-and-factors.html#cb358-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: cold medium hot</span></span></code></pre></div>
<p>Another example of using <code>fct_relevel</code> is with the expedition data. We can use it to change the levels of the <code>termination_reason</code> to place Successful expeditions at the top of the levels.</p>
<div class="sourceCode" id="cb359"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb359-1"><a href="forcats-and-factors.html#cb359-1" aria-hidden="true" tabindex="-1"></a>termination_levels <span class="ot">&lt;-</span> <span class="fu">levels</span>(<span class="fu">as.factor</span>(expeditions<span class="sc">$</span>termination_reason))</span>
<span id="cb359-2"><a href="forcats-and-factors.html#cb359-2" aria-hidden="true" tabindex="-1"></a>reordered_levels <span class="ot">&lt;-</span> <span class="fu">fct_relevel</span>(termination_levels, <span class="st">&quot;Success (claimed)&quot;</span>, <span class="st">&quot;Success (main peak)&quot;</span>,</span>
<span id="cb359-3"><a href="forcats-and-factors.html#cb359-3" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;Success (subpeak)&quot;</span>)</span>
<span id="cb359-4"><a href="forcats-and-factors.html#cb359-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb359-5"><a href="forcats-and-factors.html#cb359-5" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(<span class="at">x =</span> reordered_levels)</span>
<span id="cb359-6"><a href="forcats-and-factors.html#cb359-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;Success (claimed)&quot;                                                           </span></span>
<span id="cb359-7"><a href="forcats-and-factors.html#cb359-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [2] &quot;Success (main peak)&quot;                                                         </span></span>
<span id="cb359-8"><a href="forcats-and-factors.html#cb359-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3] &quot;Success (subpeak)&quot;                                                           </span></span>
<span id="cb359-9"><a href="forcats-and-factors.html#cb359-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4] &quot;Accident (death or serious injury)&quot;                                          </span></span>
<span id="cb359-10"><a href="forcats-and-factors.html#cb359-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5] &quot;Attempt rumoured&quot;                                                            </span></span>
<span id="cb359-11"><a href="forcats-and-factors.html#cb359-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [6] &quot;Bad conditions (deep snow, avalanching, falling ice, or rock)&quot;               </span></span>
<span id="cb359-12"><a href="forcats-and-factors.html#cb359-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] &quot;Bad weather (storms, high winds)&quot;                                            </span></span>
<span id="cb359-13"><a href="forcats-and-factors.html#cb359-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [8] &quot;Did not attempt climb&quot;                                                       </span></span>
<span id="cb359-14"><a href="forcats-and-factors.html#cb359-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [9] &quot;Did not reach base camp&quot;                                                     </span></span>
<span id="cb359-15"><a href="forcats-and-factors.html#cb359-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [10] &quot;Illness, AMS, exhaustion, or frostbite&quot;                                      </span></span>
<span id="cb359-16"><a href="forcats-and-factors.html#cb359-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [11] &quot;Lack (or loss) of supplies or equipment&quot;                                     </span></span>
<span id="cb359-17"><a href="forcats-and-factors.html#cb359-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [12] &quot;Lack of time&quot;                                                                </span></span>
<span id="cb359-18"><a href="forcats-and-factors.html#cb359-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [13] &quot;Other&quot;                                                                       </span></span>
<span id="cb359-19"><a href="forcats-and-factors.html#cb359-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [14] &quot;Route technically too difficult, lack of experience, strength, or motivation&quot;</span></span>
<span id="cb359-20"><a href="forcats-and-factors.html#cb359-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [15] &quot;Unknown&quot;</span></span></code></pre></div>
<p>Now we have successes at the top.</p>
<p>You can also include a function in <code>fct_relevel</code> to change up the order of your levels. You can use functions like <code>sample</code>, <code>sort</code> or <code>rev</code> to change the order.</p>
<div class="sourceCode" id="cb360"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb360-1"><a href="forcats-and-factors.html#cb360-1" aria-hidden="true" tabindex="-1"></a>termination_levels <span class="ot">&lt;-</span> <span class="fu">levels</span>(<span class="fu">as.factor</span>(expeditions<span class="sc">$</span>termination_reason))</span>
<span id="cb360-2"><a href="forcats-and-factors.html#cb360-2" aria-hidden="true" tabindex="-1"></a><span class="co"># use sample to make the order of levels randomized</span></span>
<span id="cb360-3"><a href="forcats-and-factors.html#cb360-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb360-4"><a href="forcats-and-factors.html#cb360-4" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(<span class="fu">fct_relevel</span>(termination_levels, sample))</span>
<span id="cb360-5"><a href="forcats-and-factors.html#cb360-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;Attempt rumoured&quot;                                                            </span></span>
<span id="cb360-6"><a href="forcats-and-factors.html#cb360-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [2] &quot;Unknown&quot;                                                                     </span></span>
<span id="cb360-7"><a href="forcats-and-factors.html#cb360-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3] &quot;Did not reach base camp&quot;                                                     </span></span>
<span id="cb360-8"><a href="forcats-and-factors.html#cb360-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4] &quot;Bad conditions (deep snow, avalanching, falling ice, or rock)&quot;               </span></span>
<span id="cb360-9"><a href="forcats-and-factors.html#cb360-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5] &quot;Did not attempt climb&quot;                                                       </span></span>
<span id="cb360-10"><a href="forcats-and-factors.html#cb360-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [6] &quot;Success (subpeak)&quot;                                                           </span></span>
<span id="cb360-11"><a href="forcats-and-factors.html#cb360-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] &quot;Bad weather (storms, high winds)&quot;                                            </span></span>
<span id="cb360-12"><a href="forcats-and-factors.html#cb360-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [8] &quot;Success (claimed)&quot;                                                           </span></span>
<span id="cb360-13"><a href="forcats-and-factors.html#cb360-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [9] &quot;Other&quot;                                                                       </span></span>
<span id="cb360-14"><a href="forcats-and-factors.html#cb360-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [10] &quot;Success (main peak)&quot;                                                         </span></span>
<span id="cb360-15"><a href="forcats-and-factors.html#cb360-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [11] &quot;Illness, AMS, exhaustion, or frostbite&quot;                                      </span></span>
<span id="cb360-16"><a href="forcats-and-factors.html#cb360-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [12] &quot;Accident (death or serious injury)&quot;                                          </span></span>
<span id="cb360-17"><a href="forcats-and-factors.html#cb360-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [13] &quot;Route technically too difficult, lack of experience, strength, or motivation&quot;</span></span>
<span id="cb360-18"><a href="forcats-and-factors.html#cb360-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [14] &quot;Lack (or loss) of supplies or equipment&quot;                                     </span></span>
<span id="cb360-19"><a href="forcats-and-factors.html#cb360-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [15] &quot;Lack of time&quot;</span></span></code></pre></div>
</div>
</div>
<div id="exercises-29" class="section level2" number="54.5">
<h2><span class="header-section-number">54.5</span> Exercises</h2>
<p>These next exercises will use a dataset which looks at the various countries who have given gifts to the United States, along with the monetary value of these gifts. While the original dataset has almost every country in the world, we will focus on a smaller portion of the countries.</p>
<pre><code>#&gt; Rows: 747
#&gt; Columns: 10
#&gt; $ id               &lt;dbl&gt; 3, 5, 6, 7, 13, 29, 51, 52, 57, 6…
#&gt; $ recipient        &lt;chr&gt; &quot;President&quot;, &quot;President&quot;, &quot;Presid…
#&gt; $ agency_name      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, N…
#&gt; $ year_received    &lt;dbl&gt; 1999, 1999, 1999, 1999, 1999, 199…
#&gt; $ date_received    &lt;date&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
#&gt; $ donor            &lt;chr&gt; &quot;Sr. Victor Cervera Pacheco, Gove…
#&gt; $ donor_country    &lt;chr&gt; &quot;Mexico&quot;, &quot;Spain&quot;, &quot;France&quot;, &quot;Ita…
#&gt; $ gift_description &lt;chr&gt; &quot;49\&quot; tall wood chair with a blac…
#&gt; $ value_usd        &lt;dbl&gt; 1000, 660, 1200, 1400, 250, 800, …
#&gt; $ justification    &lt;chr&gt; &quot;Non-acceptance would cause embar…</code></pre>
<p>Using <code>fct_reorder</code> change the order of the <code>donor_country</code> levels to be in order of <code>mean_value</code>.</p>
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb362-1"><a href="forcats-and-factors.html#cb362-1" aria-hidden="true" tabindex="-1"></a>gifts_grouped <span class="ot">&lt;-</span> gifts <span class="sc">%&gt;%</span> </span>
<span id="cb362-2"><a href="forcats-and-factors.html#cb362-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(donor_country) <span class="sc">%&gt;%</span> </span>
<span id="cb362-3"><a href="forcats-and-factors.html#cb362-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(value_usd, <span class="at">na.rm =</span> T))</span>
<span id="cb362-4"><a href="forcats-and-factors.html#cb362-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Enter solution below</span></span></code></pre></div>
<div class="sourceCode" id="cb363"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb363-1"><a href="forcats-and-factors.html#cb363-1" aria-hidden="true" tabindex="-1"></a>gifts_grouped <span class="ot">&lt;-</span> gifts <span class="sc">%&gt;%</span> </span>
<span id="cb363-2"><a href="forcats-and-factors.html#cb363-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(donor_country) <span class="sc">%&gt;%</span> </span>
<span id="cb363-3"><a href="forcats-and-factors.html#cb363-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(value_usd, <span class="at">na.rm =</span> T))</span>
<span id="cb363-4"><a href="forcats-and-factors.html#cb363-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Enter solution below</span></span>
<span id="cb363-5"><a href="forcats-and-factors.html#cb363-5" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_reorder</span>(gifts_grouped<span class="sc">$</span>donor_country, gifts_grouped<span class="sc">$</span>mean_value)</span>
<span id="cb363-6"><a href="forcats-and-factors.html#cb363-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] Australia Brazil    Canada    France    Germany  </span></span>
<span id="cb363-7"><a href="forcats-and-factors.html#cb363-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6] Italy     Mexico    Spain    </span></span>
<span id="cb363-8"><a href="forcats-and-factors.html#cb363-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8 Levels: Spain Canada Mexico Australia Germany ... Italy</span></span></code></pre></div>
<p>Now, using <code>fct_reorder</code> change the order of the <code>donor_country</code> levels to be decreasing by <code>mean_value</code>. (Bonus: use the new order to make a plot, steps are very similar to the earlier examples)</p>
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb364-1"><a href="forcats-and-factors.html#cb364-1" aria-hidden="true" tabindex="-1"></a>gifts_grouped <span class="ot">&lt;-</span> gifts <span class="sc">%&gt;%</span> </span>
<span id="cb364-2"><a href="forcats-and-factors.html#cb364-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(donor_country) <span class="sc">%&gt;%</span> </span>
<span id="cb364-3"><a href="forcats-and-factors.html#cb364-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(value_usd, <span class="at">na.rm =</span> T))</span>
<span id="cb364-4"><a href="forcats-and-factors.html#cb364-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Enter solution below</span></span></code></pre></div>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb365-1"><a href="forcats-and-factors.html#cb365-1" aria-hidden="true" tabindex="-1"></a>gifts_grouped <span class="ot">&lt;-</span> gifts <span class="sc">%&gt;%</span> </span>
<span id="cb365-2"><a href="forcats-and-factors.html#cb365-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(donor_country) <span class="sc">%&gt;%</span> </span>
<span id="cb365-3"><a href="forcats-and-factors.html#cb365-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(value_usd, <span class="at">na.rm =</span> T))</span>
<span id="cb365-4"><a href="forcats-and-factors.html#cb365-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Enter solution below</span></span>
<span id="cb365-5"><a href="forcats-and-factors.html#cb365-5" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_reorder</span>(gifts_grouped<span class="sc">$</span>donor_country, <span class="fu">desc</span>(gifts_grouped<span class="sc">$</span>mean_value))</span>
<span id="cb365-6"><a href="forcats-and-factors.html#cb365-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] Australia Brazil    Canada    France    Germany  </span></span>
<span id="cb365-7"><a href="forcats-and-factors.html#cb365-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6] Italy     Mexico    Spain    </span></span>
<span id="cb365-8"><a href="forcats-and-factors.html#cb365-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8 Levels: Italy Brazil France Germany Australia ... Spain</span></span>
<span id="cb365-9"><a href="forcats-and-factors.html#cb365-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb365-10"><a href="forcats-and-factors.html#cb365-10" aria-hidden="true" tabindex="-1"></a><span class="do">## BONUS</span></span>
<span id="cb365-11"><a href="forcats-and-factors.html#cb365-11" aria-hidden="true" tabindex="-1"></a>gifts_grouped <span class="sc">%&gt;%</span> </span>
<span id="cb365-12"><a href="forcats-and-factors.html#cb365-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">donor_country =</span> <span class="fu">fct_reorder</span>(donor_country, <span class="fu">desc</span>(mean_value))) <span class="sc">%&gt;%</span> </span>
<span id="cb365-13"><a href="forcats-and-factors.html#cb365-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(donor_country, mean_value)) <span class="sc">+</span></span>
<span id="cb365-14"><a href="forcats-and-factors.html#cb365-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>()</span></code></pre></div>
<p><img src="073-he_was_a_d8er_boi-names_rbind_cbind_files/figure-html/forcats-test-2-solution-1.png" width="672" /></p>
<p>Using <code>fct_relevel</code>, change the order of the levels for <code>gifts$donor_country</code> to be randomly sampled.</p>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb366-1"><a href="forcats-and-factors.html#cb366-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_relevel</span>(gifts<span class="sc">$</span>donor_country, sample)</span>
<span id="cb366-2"><a href="forcats-and-factors.html#cb366-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1] Mexico    Spain     France    Italy     France   </span></span>
<span id="cb366-3"><a href="forcats-and-factors.html#cb366-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [6] Canada    Mexico    Mexico    Canada    France   </span></span>
<span id="cb366-4"><a href="forcats-and-factors.html#cb366-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [11] France    Germany   France    France    Italy    </span></span>
<span id="cb366-5"><a href="forcats-and-factors.html#cb366-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [16] Canada    Italy     Canada    Australia Australia</span></span>
<span id="cb366-6"><a href="forcats-and-factors.html#cb366-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [21] Mexico    Germany   Italy     Australia Australia</span></span>
<span id="cb366-7"><a href="forcats-and-factors.html#cb366-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [26] Spain     Italy     Italy     Italy     France   </span></span>
<span id="cb366-8"><a href="forcats-and-factors.html#cb366-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [31] Mexico    Mexico    Germany   Mexico    Italy    </span></span>
<span id="cb366-9"><a href="forcats-and-factors.html#cb366-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [36] France    Spain     Italy     Spain     Spain    </span></span>
<span id="cb366-10"><a href="forcats-and-factors.html#cb366-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [41] France    Mexico    Mexico    Australia Mexico   </span></span>
<span id="cb366-11"><a href="forcats-and-factors.html#cb366-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [46] Canada    Mexico    Mexico    Germany   Canada   </span></span>
<span id="cb366-12"><a href="forcats-and-factors.html#cb366-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [51] Canada    Mexico    Italy     Italy     Italy    </span></span>
<span id="cb366-13"><a href="forcats-and-factors.html#cb366-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [56] Italy     Italy     Italy     Italy     Italy    </span></span>
<span id="cb366-14"><a href="forcats-and-factors.html#cb366-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [61] Italy     Italy     Canada    Australia France   </span></span>
<span id="cb366-15"><a href="forcats-and-factors.html#cb366-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [66] Italy     France    Spain     Mexico    Canada   </span></span>
<span id="cb366-16"><a href="forcats-and-factors.html#cb366-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [71] Canada    Mexico    Canada    Spain     Spain    </span></span>
<span id="cb366-17"><a href="forcats-and-factors.html#cb366-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [76] Italy     Australia Australia Spain     Spain    </span></span>
<span id="cb366-18"><a href="forcats-and-factors.html#cb366-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [81] Italy     Italy     Italy     Italy     Mexico   </span></span>
<span id="cb366-19"><a href="forcats-and-factors.html#cb366-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [86] Italy     Mexico    Mexico    France    Italy    </span></span>
<span id="cb366-20"><a href="forcats-and-factors.html#cb366-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [91] Italy     Italy     Italy     France    Mexico   </span></span>
<span id="cb366-21"><a href="forcats-and-factors.html#cb366-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [96] Spain     Germany   Germany   France    Italy    </span></span>
<span id="cb366-22"><a href="forcats-and-factors.html#cb366-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [101] Italy     Canada    Italy     Italy     Mexico   </span></span>
<span id="cb366-23"><a href="forcats-and-factors.html#cb366-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [106] Germany   Italy     Mexico    Italy     Italy    </span></span>
<span id="cb366-24"><a href="forcats-and-factors.html#cb366-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [111] Germany   Italy     France    Mexico    Italy    </span></span>
<span id="cb366-25"><a href="forcats-and-factors.html#cb366-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [116] Australia Italy     Australia France    Italy    </span></span>
<span id="cb366-26"><a href="forcats-and-factors.html#cb366-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [121] Spain     France    Brazil    Italy     Australia</span></span>
<span id="cb366-27"><a href="forcats-and-factors.html#cb366-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [126] Italy     Italy     France    Australia Italy    </span></span>
<span id="cb366-28"><a href="forcats-and-factors.html#cb366-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [131] Italy     Italy     Spain     Australia Australia</span></span>
<span id="cb366-29"><a href="forcats-and-factors.html#cb366-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [136] Italy     France    Italy     Italy     Italy    </span></span>
<span id="cb366-30"><a href="forcats-and-factors.html#cb366-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [141] Italy     Canada    Canada    Canada    Canada   </span></span>
<span id="cb366-31"><a href="forcats-and-factors.html#cb366-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [146] Italy     Canada    Italy     Italy     France   </span></span>
<span id="cb366-32"><a href="forcats-and-factors.html#cb366-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [151] France    Spain     Canada    Italy     Spain    </span></span>
<span id="cb366-33"><a href="forcats-and-factors.html#cb366-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [156] Italy     France    Mexico    Canada    Spain    </span></span>
<span id="cb366-34"><a href="forcats-and-factors.html#cb366-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [161] Mexico    Canada    Italy     Italy     Italy    </span></span>
<span id="cb366-35"><a href="forcats-and-factors.html#cb366-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [166] Italy     Italy     Italy     Italy     France   </span></span>
<span id="cb366-36"><a href="forcats-and-factors.html#cb366-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [171] Italy     Italy     Italy     Italy     Italy    </span></span>
<span id="cb366-37"><a href="forcats-and-factors.html#cb366-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [176] Italy     Italy     France    Mexico    Mexico   </span></span>
<span id="cb366-38"><a href="forcats-and-factors.html#cb366-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [181] Brazil    Canada    France    Italy     Italy    </span></span>
<span id="cb366-39"><a href="forcats-and-factors.html#cb366-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [186] France    Italy     France    Germany   France   </span></span>
<span id="cb366-40"><a href="forcats-and-factors.html#cb366-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [191] Canada    France    France    Canada    Mexico   </span></span>
<span id="cb366-41"><a href="forcats-and-factors.html#cb366-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [196] Germany   Italy     France    Italy     Brazil   </span></span>
<span id="cb366-42"><a href="forcats-and-factors.html#cb366-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [201] Brazil    Italy     Italy     Italy     Italy    </span></span>
<span id="cb366-43"><a href="forcats-and-factors.html#cb366-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [206] Italy     Italy     France    Canada    Italy    </span></span>
<span id="cb366-44"><a href="forcats-and-factors.html#cb366-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [211] Spain     Mexico    Mexico    Italy     Mexico   </span></span>
<span id="cb366-45"><a href="forcats-and-factors.html#cb366-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [216] Italy     Germany   France    Italy     Canada   </span></span>
<span id="cb366-46"><a href="forcats-and-factors.html#cb366-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [221] Germany   Italy     Italy     Australia Italy    </span></span>
<span id="cb366-47"><a href="forcats-and-factors.html#cb366-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [226] Canada    Italy     Germany   Italy     Canada   </span></span>
<span id="cb366-48"><a href="forcats-and-factors.html#cb366-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [231] Mexico    Germany   Australia Australia Canada   </span></span>
<span id="cb366-49"><a href="forcats-and-factors.html#cb366-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [236] Germany   France    Germany   France    Mexico   </span></span>
<span id="cb366-50"><a href="forcats-and-factors.html#cb366-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [241] Italy     Italy     Italy     Mexico    Germany  </span></span>
<span id="cb366-51"><a href="forcats-and-factors.html#cb366-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [246] Germany   Germany   Germany   Italy     Germany  </span></span>
<span id="cb366-52"><a href="forcats-and-factors.html#cb366-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [251] Italy     Australia Germany   Mexico    Mexico   </span></span>
<span id="cb366-53"><a href="forcats-and-factors.html#cb366-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [256] Italy     Italy     France    France    France   </span></span>
<span id="cb366-54"><a href="forcats-and-factors.html#cb366-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [261] Brazil    Australia France    France    France   </span></span>
<span id="cb366-55"><a href="forcats-and-factors.html#cb366-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [266] Italy     Italy     Australia Australia Australia</span></span>
<span id="cb366-56"><a href="forcats-and-factors.html#cb366-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [271] Australia Australia Australia Australia Australia</span></span>
<span id="cb366-57"><a href="forcats-and-factors.html#cb366-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [276] Australia Australia Australia Australia Australia</span></span>
<span id="cb366-58"><a href="forcats-and-factors.html#cb366-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [281] Australia Australia Australia Australia Australia</span></span>
<span id="cb366-59"><a href="forcats-and-factors.html#cb366-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [286] Australia Australia Australia Australia Australia</span></span>
<span id="cb366-60"><a href="forcats-and-factors.html#cb366-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [291] Australia Canada    Italy     Italy     Italy    </span></span>
<span id="cb366-61"><a href="forcats-and-factors.html#cb366-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [296] Mexico    Mexico    Brazil    France    Mexico   </span></span>
<span id="cb366-62"><a href="forcats-and-factors.html#cb366-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [301] Mexico    Mexico    Mexico    Mexico    Mexico   </span></span>
<span id="cb366-63"><a href="forcats-and-factors.html#cb366-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [306] Italy     Italy     Italy     Australia Italy    </span></span>
<span id="cb366-64"><a href="forcats-and-factors.html#cb366-64" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [311] France    Brazil    Italy     Italy     Italy    </span></span>
<span id="cb366-65"><a href="forcats-and-factors.html#cb366-65" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [316] Italy     France    France    Australia Australia</span></span>
<span id="cb366-66"><a href="forcats-and-factors.html#cb366-66" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [321] Australia France    France    France    France   </span></span>
<span id="cb366-67"><a href="forcats-and-factors.html#cb366-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [326] France    Italy     Germany   Mexico    Mexico   </span></span>
<span id="cb366-68"><a href="forcats-and-factors.html#cb366-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [331] France    France    France    France    Italy    </span></span>
<span id="cb366-69"><a href="forcats-and-factors.html#cb366-69" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [336] Italy     Italy     Australia Germany   Mexico   </span></span>
<span id="cb366-70"><a href="forcats-and-factors.html#cb366-70" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [341] France    Italy     Italy     France    Canada   </span></span>
<span id="cb366-71"><a href="forcats-and-factors.html#cb366-71" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [346] Italy     Italy     Italy     Italy     Italy    </span></span>
<span id="cb366-72"><a href="forcats-and-factors.html#cb366-72" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [351] Italy     Italy     Italy     France    Brazil   </span></span>
<span id="cb366-73"><a href="forcats-and-factors.html#cb366-73" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [356] Brazil    Brazil    Brazil    Spain     Mexico   </span></span>
<span id="cb366-74"><a href="forcats-and-factors.html#cb366-74" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [361] Mexico    Mexico    Brazil    Mexico    Mexico   </span></span>
<span id="cb366-75"><a href="forcats-and-factors.html#cb366-75" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [366] Germany   France    France    Mexico    Italy    </span></span>
<span id="cb366-76"><a href="forcats-and-factors.html#cb366-76" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [371] Spain     Italy     Mexico    Germany   Brazil   </span></span>
<span id="cb366-77"><a href="forcats-and-factors.html#cb366-77" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [376] Germany   Germany   Italy     Italy     Mexico   </span></span>
<span id="cb366-78"><a href="forcats-and-factors.html#cb366-78" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [381] Italy     Italy     France    Spain     France   </span></span>
<span id="cb366-79"><a href="forcats-and-factors.html#cb366-79" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [386] Germany   Italy     Germany   France    France   </span></span>
<span id="cb366-80"><a href="forcats-and-factors.html#cb366-80" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [391] Italy     France    Italy     Italy     Australia</span></span>
<span id="cb366-81"><a href="forcats-and-factors.html#cb366-81" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [396] Italy     Italy     Italy     Italy     Italy    </span></span>
<span id="cb366-82"><a href="forcats-and-factors.html#cb366-82" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [401] Italy     Italy     Italy     Brazil    Brazil   </span></span>
<span id="cb366-83"><a href="forcats-and-factors.html#cb366-83" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [406] Germany   Spain     Germany   France    France   </span></span>
<span id="cb366-84"><a href="forcats-and-factors.html#cb366-84" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [411] Germany   Spain     France    Canada    Canada   </span></span>
<span id="cb366-85"><a href="forcats-and-factors.html#cb366-85" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [416] Canada    Canada    Germany   Germany   Germany  </span></span>
<span id="cb366-86"><a href="forcats-and-factors.html#cb366-86" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [421] Australia Brazil    Germany   Canada    Brazil   </span></span>
<span id="cb366-87"><a href="forcats-and-factors.html#cb366-87" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [426] Brazil    Germany   Brazil    France    France   </span></span>
<span id="cb366-88"><a href="forcats-and-factors.html#cb366-88" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [431] Germany   Australia Mexico    France    France   </span></span>
<span id="cb366-89"><a href="forcats-and-factors.html#cb366-89" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [436] France    Mexico    Brazil    France    Spain    </span></span>
<span id="cb366-90"><a href="forcats-and-factors.html#cb366-90" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [441] France    Germany   France    Italy     Italy    </span></span>
<span id="cb366-91"><a href="forcats-and-factors.html#cb366-91" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [446] Canada    Canada    Australia Canada    Australia</span></span>
<span id="cb366-92"><a href="forcats-and-factors.html#cb366-92" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [451] Germany   France    Canada    Mexico    Australia</span></span>
<span id="cb366-93"><a href="forcats-and-factors.html#cb366-93" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [456] Brazil    Brazil    Brazil    France    Germany  </span></span>
<span id="cb366-94"><a href="forcats-and-factors.html#cb366-94" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [461] Italy     France    Australia Mexico    France   </span></span>
<span id="cb366-95"><a href="forcats-and-factors.html#cb366-95" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [466] France    France    France    Mexico    France   </span></span>
<span id="cb366-96"><a href="forcats-and-factors.html#cb366-96" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [471] Mexico    Brazil    France    Germany   France   </span></span>
<span id="cb366-97"><a href="forcats-and-factors.html#cb366-97" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [476] Australia France    Brazil    Brazil    Brazil   </span></span>
<span id="cb366-98"><a href="forcats-and-factors.html#cb366-98" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [481] Germany   Italy     Italy     Italy     Italy    </span></span>
<span id="cb366-99"><a href="forcats-and-factors.html#cb366-99" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [486] Australia Brazil    Mexico    Mexico    Mexico   </span></span>
<span id="cb366-100"><a href="forcats-and-factors.html#cb366-100" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [491] Mexico    Italy     Mexico    Mexico    Mexico   </span></span>
<span id="cb366-101"><a href="forcats-and-factors.html#cb366-101" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [496] Spain     Spain     Italy     Italy     Italy    </span></span>
<span id="cb366-102"><a href="forcats-and-factors.html#cb366-102" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [501] Mexico    Spain     Italy     Italy     France   </span></span>
<span id="cb366-103"><a href="forcats-and-factors.html#cb366-103" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [506] Brazil    Canada    Germany   Italy     Canada   </span></span>
<span id="cb366-104"><a href="forcats-and-factors.html#cb366-104" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [511] Italy     Italy     Italy     Italy     Italy    </span></span>
<span id="cb366-105"><a href="forcats-and-factors.html#cb366-105" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [516] Canada    Canada    Mexico    Canada    Canada   </span></span>
<span id="cb366-106"><a href="forcats-and-factors.html#cb366-106" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [521] Spain     Italy     Mexico    Spain     France   </span></span>
<span id="cb366-107"><a href="forcats-and-factors.html#cb366-107" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [526] Canada    France    Mexico    Spain     Spain    </span></span>
<span id="cb366-108"><a href="forcats-and-factors.html#cb366-108" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [531] France    Canada    Spain     Italy     Italy    </span></span>
<span id="cb366-109"><a href="forcats-and-factors.html#cb366-109" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [536] Canada    Canada    Mexico    France    Germany  </span></span>
<span id="cb366-110"><a href="forcats-and-factors.html#cb366-110" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [541] France    Brazil    Italy     France    Italy    </span></span>
<span id="cb366-111"><a href="forcats-and-factors.html#cb366-111" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [546] Italy     Italy     Mexico    Mexico    Italy    </span></span>
<span id="cb366-112"><a href="forcats-and-factors.html#cb366-112" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [551] Canada    Brazil    France    Australia Mexico   </span></span>
<span id="cb366-113"><a href="forcats-and-factors.html#cb366-113" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [556] Mexico    Germany   Italy     Canada    Mexico   </span></span>
<span id="cb366-114"><a href="forcats-and-factors.html#cb366-114" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [561] Australia Brazil    Mexico    Canada    Mexico   </span></span>
<span id="cb366-115"><a href="forcats-and-factors.html#cb366-115" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [566] Mexico    Germany   Mexico    Italy     Spain    </span></span>
<span id="cb366-116"><a href="forcats-and-factors.html#cb366-116" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [571] Australia Australia Italy     Germany   Germany  </span></span>
<span id="cb366-117"><a href="forcats-and-factors.html#cb366-117" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [576] Italy     France    Italy     France    France   </span></span>
<span id="cb366-118"><a href="forcats-and-factors.html#cb366-118" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [581] France    Canada    Italy     Italy     Germany  </span></span>
<span id="cb366-119"><a href="forcats-and-factors.html#cb366-119" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [586] France    Mexico    Brazil    Mexico    Germany  </span></span>
<span id="cb366-120"><a href="forcats-and-factors.html#cb366-120" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [591] Germany   Germany   Germany   Germany   Germany  </span></span>
<span id="cb366-121"><a href="forcats-and-factors.html#cb366-121" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [596] Germany   Germany   Germany   Brazil    Brazil   </span></span>
<span id="cb366-122"><a href="forcats-and-factors.html#cb366-122" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [601] France    Mexico    France    Mexico    Mexico   </span></span>
<span id="cb366-123"><a href="forcats-and-factors.html#cb366-123" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [606] Italy     Australia Spain     France    Germany  </span></span>
<span id="cb366-124"><a href="forcats-and-factors.html#cb366-124" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [611] France    Germany   Mexico    France    Italy    </span></span>
<span id="cb366-125"><a href="forcats-and-factors.html#cb366-125" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [616] Australia France    Mexico    Italy     France   </span></span>
<span id="cb366-126"><a href="forcats-and-factors.html#cb366-126" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [621] Australia France    Australia Italy     France   </span></span>
<span id="cb366-127"><a href="forcats-and-factors.html#cb366-127" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [626] Mexico    Brazil    Spain     Mexico    France   </span></span>
<span id="cb366-128"><a href="forcats-and-factors.html#cb366-128" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [631] France    Italy     Brazil    Canada    Australia</span></span>
<span id="cb366-129"><a href="forcats-and-factors.html#cb366-129" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [636] Italy     Canada    France    Australia Canada   </span></span>
<span id="cb366-130"><a href="forcats-and-factors.html#cb366-130" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [641] Canada    Spain     Germany   Italy     Italy    </span></span>
<span id="cb366-131"><a href="forcats-and-factors.html#cb366-131" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [646] Mexico    Italy     Germany   Italy     Brazil   </span></span>
<span id="cb366-132"><a href="forcats-and-factors.html#cb366-132" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [651] Germany   Mexico    Spain     Italy     Germany  </span></span>
<span id="cb366-133"><a href="forcats-and-factors.html#cb366-133" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [656] Italy     France    Australia Canada    Canada   </span></span>
<span id="cb366-134"><a href="forcats-and-factors.html#cb366-134" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [661] Italy     France    Spain     Italy     Canada   </span></span>
<span id="cb366-135"><a href="forcats-and-factors.html#cb366-135" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [666] Italy     Mexico    Mexico    Australia France   </span></span>
<span id="cb366-136"><a href="forcats-and-factors.html#cb366-136" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [671] Canada    Canada    Canada    France    Mexico   </span></span>
<span id="cb366-137"><a href="forcats-and-factors.html#cb366-137" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [676] France    Brazil    France    Italy     Brazil   </span></span>
<span id="cb366-138"><a href="forcats-and-factors.html#cb366-138" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [681] Mexico    Australia Australia Italy     Canada   </span></span>
<span id="cb366-139"><a href="forcats-and-factors.html#cb366-139" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [686] Germany   Canada    Spain     Spain     Mexico   </span></span>
<span id="cb366-140"><a href="forcats-and-factors.html#cb366-140" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [691] Italy     Germany   Canada    Canada    Italy    </span></span>
<span id="cb366-141"><a href="forcats-and-factors.html#cb366-141" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [696] Spain     Brazil    Canada    Mexico    France   </span></span>
<span id="cb366-142"><a href="forcats-and-factors.html#cb366-142" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [701] Mexico    Germany   Canada    Canada    Canada   </span></span>
<span id="cb366-143"><a href="forcats-and-factors.html#cb366-143" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [706] Italy     Germany   Germany   France    Australia</span></span>
<span id="cb366-144"><a href="forcats-and-factors.html#cb366-144" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [711] Italy     Germany   Germany   Canada    Germany  </span></span>
<span id="cb366-145"><a href="forcats-and-factors.html#cb366-145" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [716] Germany   Germany   Germany   Germany   Germany  </span></span>
<span id="cb366-146"><a href="forcats-and-factors.html#cb366-146" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [721] Germany   Germany   Germany   France    France   </span></span>
<span id="cb366-147"><a href="forcats-and-factors.html#cb366-147" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [726] Germany   Mexico    Mexico    Mexico    Mexico   </span></span>
<span id="cb366-148"><a href="forcats-and-factors.html#cb366-148" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [731] Mexico    France    Spain     Australia France   </span></span>
<span id="cb366-149"><a href="forcats-and-factors.html#cb366-149" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [736] Canada    Italy     France    Australia France   </span></span>
<span id="cb366-150"><a href="forcats-and-factors.html#cb366-150" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [741] Germany   Germany   Germany   Germany   Germany  </span></span>
<span id="cb366-151"><a href="forcats-and-factors.html#cb366-151" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [746] Germany   Spain    </span></span>
<span id="cb366-152"><a href="forcats-and-factors.html#cb366-152" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8 Levels: Canada Spain Italy Mexico Brazil ... Germany</span></span></code></pre></div>
<p>This final exercise will combine the uses of different <code>forcats</code> functions and will still use the <code>gifts</code> data.
Using one of the <code>fct_lump_</code> functions, lump all but 5 of the <code>donor_country</code> levels into other (save it under <code>gifts_lumped</code>). Next, using <code>fct_relevel</code> change the order to be in a random order (save under <code>gifts_lumped</code> again). Finally, using a <code>forcats</code> function count how many entries are in each level.</p>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb367-1"><a href="forcats-and-factors.html#cb367-1" aria-hidden="true" tabindex="-1"></a>gifts_lumped <span class="ot">&lt;-</span> <span class="fu">fct_lump_n</span>(gifts<span class="sc">$</span>donor_country, <span class="dv">5</span>)</span>
<span id="cb367-2"><a href="forcats-and-factors.html#cb367-2" aria-hidden="true" tabindex="-1"></a>gifts_lumped <span class="ot">&lt;-</span> <span class="fu">fct_relevel</span>(gifts_lumped, rev)</span>
<span id="cb367-3"><a href="forcats-and-factors.html#cb367-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_count</span>(gifts_lumped)</span>
<span id="cb367-4"><a href="forcats-and-factors.html#cb367-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 6 × 2</span></span>
<span id="cb367-5"><a href="forcats-and-factors.html#cb367-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   f             n</span></span>
<span id="cb367-6"><a href="forcats-and-factors.html#cb367-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;fct&gt;     &lt;int&gt;</span></span>
<span id="cb367-7"><a href="forcats-and-factors.html#cb367-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Other       156</span></span>
<span id="cb367-8"><a href="forcats-and-factors.html#cb367-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Mexico      104</span></span>
<span id="cb367-9"><a href="forcats-and-factors.html#cb367-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 Italy       199</span></span>
<span id="cb367-10"><a href="forcats-and-factors.html#cb367-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 Germany      89</span></span>
<span id="cb367-11"><a href="forcats-and-factors.html#cb367-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 France      125</span></span>
<span id="cb367-12"><a href="forcats-and-factors.html#cb367-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 Australia    74</span></span></code></pre></div>
<div class="sourceCode" id="cb368"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb368-1"><a href="forcats-and-factors.html#cb368-1" aria-hidden="true" tabindex="-1"></a>factor_example <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&quot;dog&quot;</span>, <span class="dv">20</span>), <span class="fu">rep</span>(<span class="st">&quot;cat&quot;</span>, <span class="dv">19</span>), </span>
<span id="cb368-2"><a href="forcats-and-factors.html#cb368-2" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">rep</span>(<span class="st">&quot;fish&quot;</span>, <span class="dv">12</span>), <span class="fu">rep</span>(<span class="st">&quot;cow&quot;</span>, <span class="dv">9</span>),</span>
<span id="cb368-3"><a href="forcats-and-factors.html#cb368-3" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">rep</span>(<span class="st">&quot;bird&quot;</span>, <span class="dv">24</span>)))</span>
<span id="cb368-4"><a href="forcats-and-factors.html#cb368-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb368-5"><a href="forcats-and-factors.html#cb368-5" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_relevel</span>(factor_example, <span class="st">&quot;fish&quot;</span>, <span class="st">&quot;dog&quot;</span>) </span>
<span id="cb368-6"><a href="forcats-and-factors.html#cb368-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb368-7"><a href="forcats-and-factors.html#cb368-7" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_lump_n</span>(factor_example, <span class="dv">2</span>)</span></code></pre></div>
<!-- ```{r forcats-mult-choice-1, echo=F} -->
<!-- question("What is the order of the levels before we run `fct_relevel`?", -->
<!--          answer("dog, cat, fish, cow, bird"), -->
<!--          answer("bird, cat, cow, dog, fish", correct = TRUE), -->
<!--          answer("bird, dog, cat, fish, cow"), -->
<!--          answer("The order is random"), -->
<!--          allow_retry = T) -->
<!-- ``` -->
<!-- ```{r forcats-mult-choice-2, echo=F} -->
<!-- question("After running `fct_relevel` what is the new order of the levels?", -->
<!--          answer("fish, dog, bird, cat, cow", correct = TRUE), -->
<!--          answer("bird, cat, cow, dog, fish"), -->
<!--          answer("fish, dog, other"), -->
<!--          answer("The order is still random"), -->
<!--          allow_retry = T) -->
<!-- ``` -->
<!-- ```{r forcats-mult-choice-3, echo=F} -->
<!-- question("After running `fct_lump_n`, which 2 levels are kept out of other?", -->
<!--          answer("bird", correct = TRUE), -->
<!--          answer("cat"), -->
<!--          answer("cow"), -->
<!--          answer("dog", correct = TRUE), -->
<!--          answer("fish"), -->
<!--          allow_retry = T) -->
<!-- ``` -->
</div>
<div id="common-mistakes-errors-16" class="section level2" number="54.6">
<h2><span class="header-section-number">54.6</span> Common Mistakes &amp; Errors</h2>
<ul>
<li><code>Error: "f" must be a factor (or character vector).</code>
<ul>
<li>This error will occur if you try to call <code>forcats</code> functions on non-factors. To fix this, ensure you are using a factor.</li>
</ul></li>
<li><code>argument ".x" is missing, with no default</code>
<ul>
<li>This error will occur if you are missing an argument in your function call. Double check that you have filled out all arguments.</li>
</ul></li>
</ul>
</div>
<div id="next-steps-32" class="section level2" number="54.7">
<h2><span class="header-section-number">54.7</span> Next Steps</h2>
<p>Now that you’re familiar with the <code>forcats</code> package, here are some additional resources to help continue your learning:</p>
<ul>
<li><p>The <code>forcats</code> website which includes more examples and information about the most important functions: <a href="https://forcats.tidyverse.org/" class="uri">https://forcats.tidyverse.org/</a></p></li>
<li><p>R for Data Science’s chapter about factors. This chapter gives another lesson on factors and also uses the <code>forcats</code> package to work with factors: <a href="https://r4ds.had.co.nz/factors.html" class="uri">https://r4ds.had.co.nz/factors.html</a></p></li>
<li><p>The factors chapter from Jenny Bryan’s STAT 545 book: <a href="https://stat545.com/factors-boss.html" class="uri">https://stat545.com/factors-boss.html</a></p></li>
</ul>
</div>
</div>
  </main>

  <div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page">
      <h2>On this page</h2>
      <div id="book-on-this-page"></div>

      <div class="book-extra">
        <ul class="list-unstyled">
          <li><a id="book-source" href="#">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="#">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
      </div>
    </nav>
  </div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5">
  <div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>DoSS Toolkit</strong>" was written by Various authors. It was last built on 2021-09-06.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
<script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>

</html>
