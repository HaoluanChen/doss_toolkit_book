<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 37 counting | DoSS Toolkit</title>
<meta name="author" content="Various authors">
<meta name="description" content="Written by Annie Collins.  37.1 Introduction In this lesson, you will learn how to: Use count() to summarize a data set. Use uncount() to produce a full data set from a table containing values and...">
<meta name="generator" content="bookdown 0.22.17 with bs4_book()">
<meta property="og:title" content="Chapter 37 counting | DoSS Toolkit">
<meta property="og:type" content="book">
<meta property="og:description" content="Written by Annie Collins.  37.1 Introduction In this lesson, you will learn how to: Use count() to summarize a data set. Use uncount() to produce a full data set from a table containing values and...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 37 counting | DoSS Toolkit">
<meta name="twitter:description" content="Written by Annie Collins.  37.1 Introduction In this lesson, you will learn how to: Use count() to summarize a data set. Use uncount() to produce a full data set from a table containing values and...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.10/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.5.1/tabs.js"></script><script src="libs/bs3compat-0.2.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="bs4_style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">DoSS Toolkit</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> About</a></li>
<li class="book-part">Hello World!</li>
<li><a class="" href="introduction.html"><span class="header-section-number">2</span> Introduction</a></li>
<li><a class="" href="getting-and-setting-up-rstudio.html"><span class="header-section-number">3</span> Getting and setting up RStudio</a></li>
<li><a class="" href="getting-to-know-what-is-what.html"><span class="header-section-number">4</span> Getting to know what is what</a></li>
<li><a class="" href="hello-world.html"><span class="header-section-number">5</span> Hello World!</a></li>
<li><a class="" href="hello-world-again.html"><span class="header-section-number">6</span> Hello World, again!</a></li>
<li><a class="" href="hello-world-again-1.html"><span class="header-section-number">7</span> Hello World, again!</a></li>
<li><a class="" href="the-r-community.html"><span class="header-section-number">8</span> The R community</a></li>
<li class="book-part">Operating in an error prone world</li>
<li><a class="" href="introduction-7.html"><span class="header-section-number">9</span> Introduction</a></li>
<li><a class="" href="getting-help-is-normal-learning-to-learn-r.html"><span class="header-section-number">10</span> Getting help is normal! – Learning to learn R</a></li>
<li><a class="" href="using-google-and-stack-overflow.html"><span class="header-section-number">11</span> Using Google and Stack Overflow</a></li>
<li><a class="" href="stack-overflow.html"><span class="header-section-number">12</span> Stack Overflow</a></li>
<li><a class="" href="when-your-code-doesnt-work.html"><span class="header-section-number">13</span> When your code doesn’t work</a></li>
<li><a class="" href="making-reproducible-examples.html"><span class="header-section-number">14</span> Making Reproducible Examples</a></li>
<li><a class="" href="how-to-make-the-most-of-rs-cryptic-error-messages.html"><span class="header-section-number">15</span> How to make the most of R’s cryptic error messages</a></li>
<li class="book-part">Holding the chaos at bay</li>
<li><a class="" href="introduction-13.html"><span class="header-section-number">16</span> Introduction</a></li>
<li><a class="" href="r-projects-and-working-directory.html"><span class="header-section-number">17</span> R Projects and working directory</a></li>
<li><a class="" href="folder-set-up.html"><span class="header-section-number">18</span> Folder set-up</a></li>
<li><a class="" href="writing-comments.html"><span class="header-section-number">19</span> Writing comments</a></li>
<li><a class="" href="installing-packages.html"><span class="header-section-number">20</span> Installing packages</a></li>
<li><a class="" href="install-from-github.html"><span class="header-section-number">21</span> Install from GitHub</a></li>
<li><a class="" href="calling-packages.html"><span class="header-section-number">22</span> Calling packages</a></li>
<li><a class="" href="updating-packages.html"><span class="header-section-number">23</span> Updating packages</a></li>
<li><a class="" href="read-csvs.html"><span class="header-section-number">24</span> Read CSVs</a></li>
<li><a class="" href="reading-tables-dta-and-other-data-types.html"><span class="header-section-number">25</span> Reading tables dta and other data types</a></li>
<li class="book-part">Hand me my plyrs</li>
<li><a class="" href="introduction-23.html"><span class="header-section-number">26</span> Introduction</a></li>
<li><a class="" href="what-is-the-tidyverse.html"><span class="header-section-number">27</span> What is the tidyverse?</a></li>
<li><a class="" href="the-pipe.html"><span class="header-section-number">28</span> The pipe</a></li>
<li><a class="" href="select.html"><span class="header-section-number">29</span> select</a></li>
<li><a class="" href="filter.html"><span class="header-section-number">30</span> filter</a></li>
<li><a class="" href="grouping-and-ungrouping.html"><span class="header-section-number">31</span> Grouping and ungrouping</a></li>
<li><a class="" href="summarise.html"><span class="header-section-number">32</span> summarise</a></li>
<li><a class="" href="arrange.html"><span class="header-section-number">33</span> arrange</a></li>
<li><a class="" href="mutate.html"><span class="header-section-number">34</span> mutate</a></li>
<li><a class="" href="pivoting.html"><span class="header-section-number">35</span> pivoting</a></li>
<li><a class="" href="rename.html"><span class="header-section-number">36</span> rename</a></li>
<li><a class="active" href="counting.html"><span class="header-section-number">37</span> counting</a></li>
<li><a class="" href="slice.html"><span class="header-section-number">38</span> slice</a></li>
<li><a class="" href="data-2.html"><span class="header-section-number">39</span> data</a></li>
<li><a class="" href="length-rows-columns-and-dimensions.html"><span class="header-section-number">40</span> length, rows, columns and dimensions</a></li>
<li class="book-part">Totally addicted to base</li>
<li><a class="" href="introduction-37.html"><span class="header-section-number">41</span> Introduction</a></li>
<li><a class="" href="mean-median-sd-lm-and-summary.html"><span class="header-section-number">42</span> mean, median, sd, lm, and summary</a></li>
<li><a class="" href="function.html"><span class="header-section-number">43</span> function</a></li>
<li><a class="" href="for-and-while.html"><span class="header-section-number">44</span> for and while</a></li>
<li><a class="" href="if-if-else-and-case-when.html"><span class="header-section-number">45</span> if, if else and case when</a></li>
<li><a class="" href="c-seq-seq-along-and-rep.html"><span class="header-section-number">46</span> c, seq, seq along, and rep</a></li>
<li><a class="" href="hist-plot-and-boxplot.html"><span class="header-section-number">47</span> hist, plot and boxplot</a></li>
<li class="book-part">He was a d8er boi</li>
<li><a class="" href="introduction-44.html"><span class="header-section-number">48</span> Introduction</a></li>
<li><a class="" href="head-tail-glimpse-and-summary.html"><span class="header-section-number">49</span> head, tail, glimpse and summary</a></li>
<li><a class="" href="paste-paste0-glue-and-stringr.html"><span class="header-section-number">50</span> paste, paste0, glue and stringr</a></li>
<li><a class="" href="names-rbind-and-cbind.html"><span class="header-section-number">51</span> names, rbind and cbind</a></li>
<li><a class="" href="joins.html"><span class="header-section-number">52</span> Joins</a></li>
<li><a class="" href="looking-for-missing-data.html"><span class="header-section-number">53</span> Looking for missing data</a></li>
<li><a class="" href="setseed-runif-rnorm-and-sample.html"><span class="header-section-number">54</span> setseed, runif, rnorm, and sample</a></li>
<li><a class="" href="simulating-datasets-for-regression.html"><span class="header-section-number">55</span> Simulating datasets for regression</a></li>
<li><a class="" href="conditional-mutating-and-summarising.html"><span class="header-section-number">56</span> Conditional mutating and summarising</a></li>
<li><a class="" href="tidying-up-datasets.html"><span class="header-section-number">57</span> Tidying up datasets</a></li>
<li><a class="" href="pull-pluck-and-unnest.html"><span class="header-section-number">58</span> pull, pluck and unnest</a></li>
<li><a class="" href="forcats-and-factors.html"><span class="header-section-number">59</span> forcats and factors</a></li>
<li><a class="" href="more-on-strings.html"><span class="header-section-number">60</span> More on strings</a></li>
<li><a class="" href="regular-expressions.html"><span class="header-section-number">61</span> Regular expressions</a></li>
<li><a class="" href="working-with-dates.html"><span class="header-section-number">62</span> Working with dates</a></li>
<li><a class="" href="janitor.html"><span class="header-section-number">63</span> janitor</a></li>
<li><a class="" href="tidyr-package.html"><span class="header-section-number">64</span> tidyr package</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/rstudio/bookdown-demo">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="counting" class="section level1" number="37">
<h1>
<span class="header-section-number">37</span> counting<a class="anchor" aria-label="anchor" href="#counting"><i class="fas fa-link"></i></a>
</h1>
<p>Written by Annie Collins.</p>
<div id="introduction-33" class="section level2" number="37.1">
<h2>
<span class="header-section-number">37.1</span> Introduction<a class="anchor" aria-label="anchor" href="#introduction-33"><i class="fas fa-link"></i></a>
</h2>
<p>In this lesson, you will learn how to:</p>
<ul>
<li>Use <code><a href="https://dplyr.tidyverse.org/reference/count.html">count()</a></code> to summarize a data set.</li>
<li>Use <code>uncount()</code> to produce a full data set from a table containing values and counts.</li>
</ul>
<p>This lesson is a yellow level skill and is part of “Tidyverse Essentials.” Prerequisite skills include:</p>
<ul>
<li>Installing packages</li>
<li>Calling libraries</li>
<li>Importing data</li>
</ul>
</div>
<div id="video-tutorial" class="section level2" number="37.2">
<h2>
<span class="header-section-number">37.2</span> Video Tutorial<a class="anchor" aria-label="anchor" href="#video-tutorial"><i class="fas fa-link"></i></a>
</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/zPqeJPjYc48" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
</div>
<div id="count" class="section level2" number="37.3">
<h2>
<span class="header-section-number">37.3</span> count()<a class="anchor" aria-label="anchor" href="#count"><i class="fas fa-link"></i></a>
</h2>
<p><code><a href="https://dplyr.tidyverse.org/reference/count.html">count()</a></code> is a function that can be used to summarize a data set in terms of the number of unique values of a certain variable or combination of variables.</p>
<p>Using <code><a href="https://dplyr.tidyverse.org/reference/count.html">count()</a></code> on a data set produces a new table including each unique value or combination of values along with an integer value representing the number of times it appears in the data.</p>
</div>
<div id="using-count" class="section level2" number="37.4">
<h2>
<span class="header-section-number">37.4</span> Using count()<a class="anchor" aria-label="anchor" href="#using-count"><i class="fas fa-link"></i></a>
</h2>
<p>The data set below (<code>starwars</code>) contains information on characters in the the <em>Star Wars</em> film franchise. There are 30 unique characters in the data with five characteristics/measurements recorded for each.</p>
<pre><code>#&gt; # A tibble: 30 × 6
#&gt;    name    hair_color skin_color eye_color homeworld species
#&gt;    &lt;chr&gt;   &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;  
#&gt;  1 Luke S… blond      fair       blue      Tatooine  Human  
#&gt;  2 C-3PO   &lt;NA&gt;       gold       yellow    Tatooine  Droid  
#&gt;  3 R2-D2   &lt;NA&gt;       white, bl… red       Naboo     Droid  
#&gt;  4 Darth … none       white      yellow    Tatooine  Human  
#&gt;  5 Leia O… brown      light      brown     Alderaan  Human  
#&gt;  6 Owen L… brown, gr… light      blue      Tatooine  Human  
#&gt;  7 Beru W… brown      light      blue      Tatooine  Human  
#&gt;  8 R5-D4   &lt;NA&gt;       white, red red       Tatooine  Droid  
#&gt;  9 Biggs … black      light      brown     Tatooine  Human  
#&gt; 10 Anakin… blond      fair       blue      Tatooine  Human  
#&gt; # … with 20 more rows</code></pre>
<p>Although each character is unique and only appears once in the data, there are several variables where multiple characters have the same characteristic, and we may want to know how many characters share each characteristic.</p>
<p>For example, we may want to examine how many characters came from each home world.</p>
<div class="sourceCode" id="cb182"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">starwars</span>, <span class="va">homeworld</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 5 × 2</span>
<span class="co">#&gt;   homeworld     n</span>
<span class="co">#&gt;   &lt;chr&gt;     &lt;int&gt;</span>
<span class="co">#&gt; 1 Alderaan      3</span>
<span class="co">#&gt; 2 Coruscant     3</span>
<span class="co">#&gt; 3 Kamino        3</span>
<span class="co">#&gt; 4 Naboo        11</span>
<span class="co">#&gt; 5 Tatooine     10</span></code></pre></div>
<p>We can also sort this table to see which home worlds appear in the data most frequently.</p>
<div class="sourceCode" id="cb183"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">starwars</span>, <span class="va">homeworld</span>, sort<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 5 × 2</span>
<span class="co">#&gt;   homeworld     n</span>
<span class="co">#&gt;   &lt;chr&gt;     &lt;int&gt;</span>
<span class="co">#&gt; 1 Naboo        11</span>
<span class="co">#&gt; 2 Tatooine     10</span>
<span class="co">#&gt; 3 Alderaan      3</span>
<span class="co">#&gt; 4 Coruscant     3</span>
<span class="co">#&gt; 5 Kamino        3</span></code></pre></div>
<p>Here, we see that Naboo is the most common home world, with 11 characters in the data set from this world.</p>
<p>If we wish to get even more specific, we could look at unique species-homeworld combinations amongst characters in the data.</p>
<div class="sourceCode" id="cb184"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">starwars</span>, <span class="va">species</span>, <span class="va">homeworld</span>, sort<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 11 × 3</span>
<span class="co">#&gt;    species    homeworld     n</span>
<span class="co">#&gt;    &lt;chr&gt;      &lt;chr&gt;     &lt;int&gt;</span>
<span class="co">#&gt;  1 Human      Tatooine      8</span>
<span class="co">#&gt;  2 Human      Naboo         5</span>
<span class="co">#&gt;  3 Gungan     Naboo         3</span>
<span class="co">#&gt;  4 Human      Alderaan      3</span>
<span class="co">#&gt;  5 Droid      Tatooine      2</span>
<span class="co">#&gt;  6 Human      Coruscant     2</span>
<span class="co">#&gt;  7 Kaminoan   Kamino        2</span>
<span class="co">#&gt;  8 &lt;NA&gt;       Naboo         2</span>
<span class="co">#&gt;  9 Droid      Naboo         1</span>
<span class="co">#&gt; 10 Human      Kamino        1</span>
<span class="co">#&gt; 11 Tholothian Coruscant     1</span></code></pre></div>
<p>The outputted table shows that there are eight characters in the <code>starwars</code> data set that are humans from Tatooine, five that are humans from Naboo, and so on.</p>
</div>
<div id="count-arguments" class="section level2" number="37.5">
<h2>
<span class="header-section-number">37.5</span> count() Arguments<a class="anchor" aria-label="anchor" href="#count-arguments"><i class="fas fa-link"></i></a>
</h2>
<p><code><a href="https://dplyr.tidyverse.org/reference/count.html">count(data, variables, sort = FALSE, name = NULL)</a></code></p>
<ul>
<li>
<strong>data</strong>: the data frame you are counting from.</li>
<li>
<strong>variables</strong>: the variables in <strong>data</strong> you are counting, inputted by individual column name. This could be one or multiple variables to be counted in combination. If none are entered, <code><a href="https://dplyr.tidyverse.org/reference/count.html">count()</a></code> will return a count of the total number of rows in <strong>data</strong>.</li>
<li>
<strong>sort = …</strong>: FALSE by default (if omitted). If sort = TRUE, <code><a href="https://dplyr.tidyverse.org/reference/count.html">count()</a></code> will sort the outputted table in descending order of the count column, otherwise it will be sorted in alphabetical order by the first column (with NA values last).</li>
<li>
<strong>name = “…”</strong>: NULL (empty) by default. This argument indicates the name you wish to give the column containing the count values, inputted in the form of a string. If omitted, the count column will be titled <strong>n</strong>.</li>
</ul>
</div>
<div id="uncount" class="section level2" number="37.6">
<h2>
<span class="header-section-number">37.6</span> uncount()<a class="anchor" aria-label="anchor" href="#uncount"><i class="fas fa-link"></i></a>
</h2>
<p><code>uncount()</code> is a function that can be used to produce a full length table from a table containing variables and counts (for example, one that was produced using the <code><a href="https://dplyr.tidyverse.org/reference/count.html">count()</a></code> function). The function duplicates each unique variable according to the value in the count column indicated. You may think of it as the inverse of <code><a href="https://dplyr.tidyverse.org/reference/count.html">count()</a></code>.</p>
<div id="arguments-5" class="section level3" number="37.6.1">
<h3>
<span class="header-section-number">37.6.1</span> Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"><i class="fas fa-link"></i></a>
</h3>
<p><code>uncount()</code> takes two required arguments and two optional arguments:</p>
<p><code>uncount(data, weights, .remove = TRUE, .id = NULL)</code></p>
<ul>
<li>
<strong>data</strong>: the data frame containing variables and counts.</li>
<li>
<strong>weights</strong>: the name of the column in <strong>data</strong> containing the counts for each variable(s). You can also use a constant or expression if you wish all variables to be duplicated the same number of times, or if an appropriate column does not exist in <strong>data</strong>.</li>
</ul>
<p><strong>Optional</strong>:</p>
<ul>
<li>
<strong>.remove = …</strong>: TRUE by default. If <strong>weights</strong> is a column in <strong>data</strong>, this argument indicates whether or not you want the <strong>weights</strong> values to remain in the outputted table. If .remove = TRUE (default), the outputted table will only contain the duplicated variables. If .return = FALSE, the outputted table will contain the duplicated variables along with their total count present in an additional column. If <strong>weights</strong> is a value or expression, then <strong>.remove</strong> does not apply and the column containing counts (if it exists) will be included in the outputted table.</li>
<li>
<strong>.id = “…”</strong>: NULL (empty) by default. This argument allows you to input a string as the title for a new column that will automatically generate a unique ID for each duplicated variable. This may be useful if you still want to distinguish between variables once they have been repeated.</li>
</ul>
</div>
</div>
<div id="using-uncount" class="section level2" number="37.7">
<h2>
<span class="header-section-number">37.7</span> Using uncount()<a class="anchor" aria-label="anchor" href="#using-uncount"><i class="fas fa-link"></i></a>
</h2>
<p>To help visualize the use of <code>uncount()</code>, we will use this small data set called <code>colours</code>.</p>
<pre><code>#&gt;   colour n
#&gt; 1    red 1
#&gt; 2 yellow 2
#&gt; 3   blue 3</code></pre>
<p><code>colours</code> indicates that red occurs once, yellow occurs twice, and blue occurs three times in some data, for a total of six observations.</p>
<p>If we want to observe all the data in its uncounted form, we can use <code>uncount()</code>.</p>
<div class="sourceCode" id="cb186"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">uncount</span><span class="op">(</span><span class="va">colours</span>, <span class="va">n</span><span class="op">)</span>
<span class="co">#&gt;   colour</span>
<span class="co">#&gt; 1    red</span>
<span class="co">#&gt; 2 yellow</span>
<span class="co">#&gt; 3 yellow</span>
<span class="co">#&gt; 4   blue</span>
<span class="co">#&gt; 5   blue</span>
<span class="co">#&gt; 6   blue</span></code></pre></div>
<p>Our output includes only one column (no count values) with each colour repeated the number of times indicated in the <strong>n</strong> column in <code>colours</code>. <code>uncount()</code> also automatically generates a new version of the row number according to the number of times each row was duplicated.</p>
<p>If we wish to duplicate each colour (regardless of the value in column <strong>n</strong>), we can substitute <strong>2</strong> in place of <strong>n</strong> in the function. Note that in the outputted table, the values from <strong>n</strong> are still present since we did not input a column for the <strong>weights</strong> argument.</p>
<div class="sourceCode" id="cb187"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">uncount</span><span class="op">(</span><span class="va">colours</span>, <span class="fl">2</span><span class="op">)</span>
<span class="co">#&gt;   colour n</span>
<span class="co">#&gt; 1    red 1</span>
<span class="co">#&gt; 2    red 1</span>
<span class="co">#&gt; 3 yellow 2</span>
<span class="co">#&gt; 4 yellow 2</span>
<span class="co">#&gt; 5   blue 3</span>
<span class="co">#&gt; 6   blue 3</span></code></pre></div>
<p>Using the optional arguments <strong>.remove</strong> and <strong>.id</strong>, we can uncount <code>colours</code> according to column <strong>n</strong> while still keeping the values from <strong>n</strong> in the output <em>and</em> assign a unique ID number to each repeated colour.</p>
<div class="sourceCode" id="cb188"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">uncount</span><span class="op">(</span><span class="va">colours</span>, <span class="va">n</span>, .remove <span class="op">=</span> <span class="cn">FALSE</span>, .id <span class="op">=</span> <span class="st">"id"</span><span class="op">)</span>
<span class="co">#&gt;   colour n id</span>
<span class="co">#&gt; 1    red 1  1</span>
<span class="co">#&gt; 2 yellow 2  1</span>
<span class="co">#&gt; 3 yellow 2  2</span>
<span class="co">#&gt; 4   blue 3  1</span>
<span class="co">#&gt; 5   blue 3  2</span>
<span class="co">#&gt; 6   blue 3  3</span></code></pre></div>
<p>Now we can distinguish between different yellow and blue rows in the column (for instance, yellow 1 and yellow 2 according to the <strong>id</strong> column).</p>
<p>Note that this does not change if there are multiple combinations of variables in <code>colours</code> we wish to uncount.</p>
<p>Updated <code>colours</code>:</p>
<pre><code>#&gt;   colour temp n
#&gt; 1    red warm 1
#&gt; 2 yellow warm 2
#&gt; 3   blue cool 3</code></pre>
<div class="sourceCode" id="cb190"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">uncount</span><span class="op">(</span><span class="va">colours</span>, <span class="va">n</span>, .remove <span class="op">=</span> <span class="cn">FALSE</span>, .id <span class="op">=</span> <span class="st">"id"</span><span class="op">)</span>
<span class="co">#&gt;   colour temp n id</span>
<span class="co">#&gt; 1    red warm 1  1</span>
<span class="co">#&gt; 2 yellow warm 2  1</span>
<span class="co">#&gt; 3 yellow warm 2  2</span>
<span class="co">#&gt; 4   blue cool 3  1</span>
<span class="co">#&gt; 5   blue cool 3  2</span>
<span class="co">#&gt; 6   blue cool 3  3</span></code></pre></div>
</div>
<div id="questions-exercises" class="section level2" number="37.8">
<h2>
<span class="header-section-number">37.8</span> Questions &amp; Exercises<a class="anchor" aria-label="anchor" href="#questions-exercises"><i class="fas fa-link"></i></a>
</h2>
<div id="exercises-17" class="section level3" number="37.8.1">
<h3>
<span class="header-section-number">37.8.1</span> Exercises<a class="anchor" aria-label="anchor" href="#exercises-17"><i class="fas fa-link"></i></a>
</h3>
<p>For the following two exercises, manipulate the <code>starwars</code> data set to match the output displayed. The original is included below for reference.</p>
<pre><code>#&gt; # A tibble: 30 × 6
#&gt;    name    hair_color skin_color eye_color homeworld species
#&gt;    &lt;chr&gt;   &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;  
#&gt;  1 Luke S… blond      fair       blue      Tatooine  Human  
#&gt;  2 C-3PO   &lt;NA&gt;       gold       yellow    Tatooine  Droid  
#&gt;  3 R2-D2   &lt;NA&gt;       white, bl… red       Naboo     Droid  
#&gt;  4 Darth … none       white      yellow    Tatooine  Human  
#&gt;  5 Leia O… brown      light      brown     Alderaan  Human  
#&gt;  6 Owen L… brown, gr… light      blue      Tatooine  Human  
#&gt;  7 Beru W… brown      light      blue      Tatooine  Human  
#&gt;  8 R5-D4   &lt;NA&gt;       white, red red       Tatooine  Droid  
#&gt;  9 Biggs … black      light      brown     Tatooine  Human  
#&gt; 10 Anakin… blond      fair       blue      Tatooine  Human  
#&gt; # … with 20 more rows</code></pre>
<p><strong>Exercise 1</strong></p>
<pre><code>#&gt; # A tibble: 16 × 3
#&gt;    skin_color  eye_color     n
#&gt;    &lt;chr&gt;       &lt;chr&gt;     &lt;int&gt;
#&gt;  1 fair        blue          6
#&gt;  2 light       brown         6
#&gt;  3 dark        brown         2
#&gt;  4 fair        brown         2
#&gt;  5 grey        black         2
#&gt;  6 light       blue          2
#&gt;  7 dark        blue          1
#&gt;  8 gold        yellow        1
#&gt;  9 green       orange        1
#&gt; 10 grey        orange        1
#&gt; 11 orange      orange        1
#&gt; 12 pale        yellow        1
#&gt; 13 tan         brown         1
#&gt; 14 white       yellow        1
#&gt; 15 white, blue red           1
#&gt; 16 white, red  red           1</code></pre>
<div class="sourceCode" id="cb193"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">starwars</span>, <span class="va">skin_color</span>, <span class="va">eye_color</span>, sort<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 16 × 3</span>
<span class="co">#&gt;    skin_color  eye_color     n</span>
<span class="co">#&gt;    &lt;chr&gt;       &lt;chr&gt;     &lt;int&gt;</span>
<span class="co">#&gt;  1 fair        blue          6</span>
<span class="co">#&gt;  2 light       brown         6</span>
<span class="co">#&gt;  3 dark        brown         2</span>
<span class="co">#&gt;  4 fair        brown         2</span>
<span class="co">#&gt;  5 grey        black         2</span>
<span class="co">#&gt;  6 light       blue          2</span>
<span class="co">#&gt;  7 dark        blue          1</span>
<span class="co">#&gt;  8 gold        yellow        1</span>
<span class="co">#&gt;  9 green       orange        1</span>
<span class="co">#&gt; 10 grey        orange        1</span>
<span class="co">#&gt; 11 orange      orange        1</span>
<span class="co">#&gt; 12 pale        yellow        1</span>
<span class="co">#&gt; 13 tan         brown         1</span>
<span class="co">#&gt; 14 white       yellow        1</span>
<span class="co">#&gt; 15 white, blue red           1</span>
<span class="co">#&gt; 16 white, red  red           1</span></code></pre></div>
<p><strong>Exercise 2</strong></p>
<pre><code>#&gt; # A tibble: 30 × 2
#&gt;    name                unique
#&gt;    &lt;chr&gt;                &lt;int&gt;
#&gt;  1 Adi Gallia               1
#&gt;  2 Anakin Skywalker         1
#&gt;  3 Bail Prestor Organa      1
#&gt;  4 Beru Whitesun lars       1
#&gt;  5 Biggs Darklighter        1
#&gt;  6 Boba Fett                1
#&gt;  7 C-3PO                    1
#&gt;  8 Cliegg Lars              1
#&gt;  9 Cordé                    1
#&gt; 10 Darth Vader              1
#&gt; # … with 20 more rows</code></pre>
<div class="sourceCode" id="cb195"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">starwars</span>, <span class="va">name</span>, name<span class="op">=</span><span class="st">"unique"</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 30 × 2</span>
<span class="co">#&gt;    name                unique</span>
<span class="co">#&gt;    &lt;chr&gt;                &lt;int&gt;</span>
<span class="co">#&gt;  1 Adi Gallia               1</span>
<span class="co">#&gt;  2 Anakin Skywalker         1</span>
<span class="co">#&gt;  3 Bail Prestor Organa      1</span>
<span class="co">#&gt;  4 Beru Whitesun lars       1</span>
<span class="co">#&gt;  5 Biggs Darklighter        1</span>
<span class="co">#&gt;  6 Boba Fett                1</span>
<span class="co">#&gt;  7 C-3PO                    1</span>
<span class="co">#&gt;  8 Cliegg Lars              1</span>
<span class="co">#&gt;  9 Cordé                    1</span>
<span class="co">#&gt; 10 Darth Vader              1</span>
<span class="co">#&gt; # … with 20 more rows</span></code></pre></div>
</div>
<div id="questions-3" class="section level3" number="37.8.2">
<h3>
<span class="header-section-number">37.8.2</span> Questions<a class="anchor" aria-label="anchor" href="#questions-3"><i class="fas fa-link"></i></a>
</h3>
<p>Below is the first five rows of output from <strong>Exercise 1</strong>, assigned the name <code>features</code>. Please use this data set as reference for the following questions.</p>
<pre><code>#&gt; # A tibble: 5 × 3
#&gt;   skin_color eye_color     n
#&gt;   &lt;chr&gt;      &lt;chr&gt;     &lt;int&gt;
#&gt; 1 fair       blue          6
#&gt; 2 light      brown         6
#&gt; 3 dark       brown         2
#&gt; 4 fair       brown         2
#&gt; 5 grey       black         2</code></pre>
<!-- ```{r uncount-question1, echo=FALSE} -->
<!-- question("In the output of `uncount(features, n)`, how many times will the word \"brown\" appear?", -->
<!-- answer("2"), -->
<!-- answer("3"), -->
<!-- answer("7"), -->
<!-- answer("12", correct=TRUE) -->
<!-- ) -->
<!-- ``` -->
<!-- ```{r uncount-question2, echo=FALSE} -->
<!-- question("How many rows does the output of `uncount(features, 2)` have (not including the header)?", -->
<!-- answer("5"), -->
<!-- answer("10", correct=TRUE), -->
<!-- answer("21"), -->
<!-- answer("42") -->
<!-- ) -->
<!-- ``` -->
<!-- ```{r uncount-question3, echo=FALSE} -->
<!-- question("How many columns does the output of `uncount(features, 2)` have?", -->
<!-- answer("1"), -->
<!-- answer("2"), -->
<!-- answer("3", correct=TRUE), -->
<!-- answer("4") -->
<!-- ) -->
<!-- ``` -->

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="rename.html"><span class="header-section-number">36</span> rename</a></div>
<div class="next"><a href="slice.html"><span class="header-section-number">38</span> slice</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#counting"><span class="header-section-number">37</span> counting</a></li>
<li><a class="nav-link" href="#introduction-33"><span class="header-section-number">37.1</span> Introduction</a></li>
<li><a class="nav-link" href="#video-tutorial"><span class="header-section-number">37.2</span> Video Tutorial</a></li>
<li><a class="nav-link" href="#count"><span class="header-section-number">37.3</span> count()</a></li>
<li><a class="nav-link" href="#using-count"><span class="header-section-number">37.4</span> Using count()</a></li>
<li><a class="nav-link" href="#count-arguments"><span class="header-section-number">37.5</span> count() Arguments</a></li>
<li>
<a class="nav-link" href="#uncount"><span class="header-section-number">37.6</span> uncount()</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#arguments-5"><span class="header-section-number">37.6.1</span> Arguments</a></li></ul>
</li>
<li><a class="nav-link" href="#using-uncount"><span class="header-section-number">37.7</span> Using uncount()</a></li>
<li>
<a class="nav-link" href="#questions-exercises"><span class="header-section-number">37.8</span> Questions &amp; Exercises</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#exercises-17"><span class="header-section-number">37.8.1</span> Exercises</a></li>
<li><a class="nav-link" href="#questions-3"><span class="header-section-number">37.8.2</span> Questions</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/rstudio/bookdown-demo/blob/master/041-hand_me_my_plyrs-count_and_uncount.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/rstudio/bookdown-demo/edit/master/041-hand_me_my_plyrs-count_and_uncount.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>DoSS Toolkit</strong>" was written by Various authors. It was last built on 2021-09-06.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
