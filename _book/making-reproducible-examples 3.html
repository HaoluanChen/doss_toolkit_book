<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 14 Making Reproducible Examples | DoSS Toolkit</title>
<meta name="author" content="Various authors">
<meta name="description" content="Written by Marija Pejcinovska.  14.1 Introduction In this lesson you will: learn about using reproducible examples to solve R issues learn how to create reproducible examples get introduced to...">
<meta name="generator" content="bookdown 0.22.17 with bs4_book()">
<meta property="og:title" content="Chapter 14 Making Reproducible Examples | DoSS Toolkit">
<meta property="og:type" content="book">
<meta property="og:description" content="Written by Marija Pejcinovska.  14.1 Introduction In this lesson you will: learn about using reproducible examples to solve R issues learn how to create reproducible examples get introduced to...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 14 Making Reproducible Examples | DoSS Toolkit">
<meta name="twitter:description" content="Written by Marija Pejcinovska.  14.1 Introduction In this lesson you will: learn about using reproducible examples to solve R issues learn how to create reproducible examples get introduced to...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.10/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.5.1/tabs.js"></script><script src="libs/bs3compat-0.2.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="bs4_style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">DoSS Toolkit</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> About</a></li>
<li class="book-part">Hello World!</li>
<li><a class="" href="introduction.html"><span class="header-section-number">2</span> Introduction</a></li>
<li><a class="" href="getting-and-setting-up-rstudio.html"><span class="header-section-number">3</span> Getting and setting up RStudio</a></li>
<li><a class="" href="getting-to-know-what-is-what.html"><span class="header-section-number">4</span> Getting to know what is what</a></li>
<li><a class="" href="hello-world.html"><span class="header-section-number">5</span> Hello World!</a></li>
<li><a class="" href="hello-world-again.html"><span class="header-section-number">6</span> Hello World, again!</a></li>
<li><a class="" href="hello-world-again-1.html"><span class="header-section-number">7</span> Hello World, again!</a></li>
<li><a class="" href="the-r-community.html"><span class="header-section-number">8</span> The R community</a></li>
<li class="book-part">Operating in an error prone world</li>
<li><a class="" href="introduction-7.html"><span class="header-section-number">9</span> Introduction</a></li>
<li><a class="" href="getting-help-is-normal-learning-to-learn-r.html"><span class="header-section-number">10</span> Getting help is normal! – Learning to learn R</a></li>
<li><a class="" href="using-google-and-stack-overflow.html"><span class="header-section-number">11</span> Using Google and Stack Overflow</a></li>
<li><a class="" href="stack-overflow.html"><span class="header-section-number">12</span> Stack Overflow</a></li>
<li><a class="" href="when-your-code-doesnt-work.html"><span class="header-section-number">13</span> When your code doesn’t work</a></li>
<li><a class="active" href="making-reproducible-examples.html"><span class="header-section-number">14</span> Making Reproducible Examples</a></li>
<li><a class="" href="how-to-make-the-most-of-rs-cryptic-error-messages.html"><span class="header-section-number">15</span> How to make the most of R’s cryptic error messages</a></li>
<li class="book-part">Holding the chaos at bay</li>
<li><a class="" href="introduction-13.html"><span class="header-section-number">16</span> Introduction</a></li>
<li><a class="" href="r-projects-and-working-directory.html"><span class="header-section-number">17</span> R Projects and working directory</a></li>
<li><a class="" href="folder-set-up.html"><span class="header-section-number">18</span> Folder set-up</a></li>
<li><a class="" href="writing-comments.html"><span class="header-section-number">19</span> Writing comments</a></li>
<li><a class="" href="installing-packages.html"><span class="header-section-number">20</span> Installing packages</a></li>
<li><a class="" href="install-from-github.html"><span class="header-section-number">21</span> Install from GitHub</a></li>
<li><a class="" href="calling-packages.html"><span class="header-section-number">22</span> Calling packages</a></li>
<li><a class="" href="updating-packages.html"><span class="header-section-number">23</span> Updating packages</a></li>
<li><a class="" href="read-csvs.html"><span class="header-section-number">24</span> Read CSVs</a></li>
<li><a class="" href="reading-tables-dta-and-other-data-types.html"><span class="header-section-number">25</span> Reading tables dta and other data types</a></li>
<li class="book-part">Hand me my plyrs</li>
<li><a class="" href="introduction-23.html"><span class="header-section-number">26</span> Introduction</a></li>
<li><a class="" href="what-is-the-tidyverse.html"><span class="header-section-number">27</span> What is the tidyverse?</a></li>
<li><a class="" href="the-pipe.html"><span class="header-section-number">28</span> The pipe</a></li>
<li><a class="" href="select.html"><span class="header-section-number">29</span> select</a></li>
<li><a class="" href="filter.html"><span class="header-section-number">30</span> filter</a></li>
<li><a class="" href="grouping-and-ungrouping.html"><span class="header-section-number">31</span> Grouping and ungrouping</a></li>
<li><a class="" href="summarise.html"><span class="header-section-number">32</span> summarise</a></li>
<li><a class="" href="arrange.html"><span class="header-section-number">33</span> arrange</a></li>
<li><a class="" href="mutate.html"><span class="header-section-number">34</span> mutate</a></li>
<li><a class="" href="pivoting.html"><span class="header-section-number">35</span> pivoting</a></li>
<li><a class="" href="rename.html"><span class="header-section-number">36</span> rename</a></li>
<li><a class="" href="counting.html"><span class="header-section-number">37</span> counting</a></li>
<li><a class="" href="slice.html"><span class="header-section-number">38</span> slice</a></li>
<li><a class="" href="data-2.html"><span class="header-section-number">39</span> data</a></li>
<li><a class="" href="length-rows-columns-and-dimensions.html"><span class="header-section-number">40</span> length, rows, columns and dimensions</a></li>
<li class="book-part">He was a d8er boi</li>
<li><a class="" href="introduction-37.html"><span class="header-section-number">41</span> Introduction</a></li>
<li><a class="" href="head-tail-glimpse-and-summary.html"><span class="header-section-number">42</span> head, tail, glimpse and summary</a></li>
<li><a class="" href="paste-paste0-glue-and-stringr.html"><span class="header-section-number">43</span> paste, paste0, glue and stringr</a></li>
<li><a class="" href="head-tail-glimpse-and-summary-1.html"><span class="header-section-number">44</span> head, tail, glimpse and summary</a></li>
<li><a class="" href="paste-paste0-glueglue-and-stringr.html"><span class="header-section-number">45</span> paste(), paste0(), glue::glue() and stringr</a></li>
<li><a class="" href="names-rbind-and-cbind.html"><span class="header-section-number">46</span> names(), rbind() and cbind()</a></li>
<li><a class="" href="left_join-anti_join-full_join-etc.html"><span class="header-section-number">47</span> left_join(), anti_join(), full_join(), etc</a></li>
<li><a class="" href="looking-for-missing-data.html"><span class="header-section-number">48</span> Looking for missing data</a></li>
<li><a class="" href="set.seed-runif-rnorm-and-sample.html"><span class="header-section-number">49</span> set.seed(), runif(), rnorm(), and sample()</a></li>
<li><a class="" href="simulating-datasets-for-regression.html"><span class="header-section-number">50</span> Simulating datasets for regression</a></li>
<li><a class="" href="conditional-mutating-and-summarising.html"><span class="header-section-number">51</span> Conditional mutating and summarising</a></li>
<li><a class="" href="tidying-up-datasets.html"><span class="header-section-number">52</span> Tidying up datasets</a></li>
<li><a class="" href="pull-pluck-and-unnest.html"><span class="header-section-number">53</span> pull(), pluck(), and unnest()</a></li>
<li><a class="" href="forcats-and-factors.html"><span class="header-section-number">54</span> forcats and factors</a></li>
<li><a class="" href="more-on-strings.html"><span class="header-section-number">55</span> More on strings</a></li>
<li><a class="" href="regular-expressions.html"><span class="header-section-number">56</span> Regular expressions</a></li>
<li><a class="" href="working-with-dates.html"><span class="header-section-number">57</span> Working with dates</a></li>
<li><a class="" href="janitor-package.html"><span class="header-section-number">58</span> janitor package</a></li>
<li><a class="" href="tidyr-package.html"><span class="header-section-number">59</span> tidyr package</a></li>
<li><a class="" href="joins.html"><span class="header-section-number">60</span> Joins</a></li>
<li><a class="" href="looking-for-missing-data-1.html"><span class="header-section-number">61</span> Looking for missing data</a></li>
<li><a class="" href="set.seed-runif-rnorm-and-sample-1.html"><span class="header-section-number">62</span> set.seed, runif, rnorm, and sample</a></li>
<li><a class="" href="simulating-datasets-for-regression-1.html"><span class="header-section-number">63</span> Simulating datasets for regression</a></li>
<li><a class="" href="conditional-mutating-and-summarising-1.html"><span class="header-section-number">64</span> Conditional mutating and summarising</a></li>
<li><a class="" href="tidying-up-datasets-1.html"><span class="header-section-number">65</span> Tidying up datasets</a></li>
<li><a class="" href="pull-pluck-and-unnest-1.html"><span class="header-section-number">66</span> pull, pluck and unnest</a></li>
<li><a class="" href="forcats-and-factors-1.html"><span class="header-section-number">67</span> forcats and factors</a></li>
<li><a class="" href="more-on-strings-2.html"><span class="header-section-number">68</span> More on strings</a></li>
<li><a class="" href="regular-expressions-1.html"><span class="header-section-number">69</span> Regular expressions</a></li>
<li><a class="" href="working-with-dates-1.html"><span class="header-section-number">70</span> Working with dates</a></li>
<li><a class="" href="janitor.html"><span class="header-section-number">71</span> janitor</a></li>
<li><a class="" href="tidyr-package-1.html"><span class="header-section-number">72</span> tidyr package</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/rstudio/bookdown-demo">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="making-reproducible-examples" class="section level1" number="14">
<h1>
<span class="header-section-number">14</span> Making Reproducible Examples<a class="anchor" aria-label="anchor" href="#making-reproducible-examples"><i class="fas fa-link"></i></a>
</h1>
<p>Written by Marija Pejcinovska.</p>
<div id="introduction-12" class="section level2" number="14.1">
<h2>
<span class="header-section-number">14.1</span> Introduction<a class="anchor" aria-label="anchor" href="#introduction-12"><i class="fas fa-link"></i></a>
</h2>
<p>In this lesson you will:</p>
<ul>
<li>learn about using reproducible examples to solve R issues</li>
<li>learn how to create reproducible examples</li>
<li>get introduced to packages that ease the pain of making reproducible examples</li>
</ul>
<p>Prerequisite skills include:</p>
<ul>
<li>Installing packages, troubleshooting, and asking for help</li>
</ul>
<p>Highlights:</p>
<ul>
<li>Making good reproducible examples is essential for getting online help with your R issues (be it on Stack Overflow, R Studio Communities, Slack,..).</li>
<li>Good reproducible examples are minimal and self-contained.</li>
<li>R packages like <code>reprex</code> are there to help you ask for help the right way!</li>
</ul>
</div>
<div id="seeking-help-the-helpful-way" class="section level2" number="14.2">
<h2>
<span class="header-section-number">14.2</span> Seeking help the helpful way<a class="anchor" aria-label="anchor" href="#seeking-help-the-helpful-way"><i class="fas fa-link"></i></a>
</h2>
<p>At this point in the toolkit you have probably picked up a troubleshooting trick or two.</p>
<p>In fact, you may have already googled how to code up something in R or have come across useful discussions on Stack Exchange or Stack Overflow.</p>
<p>Most of the time, you are likely to face issues many R users have grappled with before. In a way, this is nice. It means it should be much easier to find a solution to your problem online, usually with only a few google searches. Other times though, you might come across a more challenging problem and the solution might not be as readily available online.
In such a situation, assuming you’ve exhausted all other debugging and troubleshooting options, it’s possible that you would need to ask for some help online! Fortunately, as you’ve been making your way through this toolkit, you have probably already learned where to turn for help when needed.</p>
<p>At this stage, knowing how to create a <strong>repr</strong>oducible <strong>ex</strong>ample (or <strong>reprex</strong> for short) would come in handy. The idea of a reprex is exactly what you might expect: it is a minimal illustrative example that will reproduce the issue you are facing, so that others could help you solve it more easily.</p>
<p>Not all reprexes are created equal, however. In order for you to engage productively with the R community and get the help you need, you should help the reader understand your problem with as little effort on their part as possible. This means that a reprex needs to be minimal and self-contained, so that those helping you can simply copy and paste your R code, reproduce the error and understand your issue… and hopefully help you solve it, of course.</p>
</div>
<div id="elements-of-a-reprex" class="section level2" number="14.3">
<h2>
<span class="header-section-number">14.3</span> Elements of a reprex<a class="anchor" aria-label="anchor" href="#elements-of-a-reprex"><i class="fas fa-link"></i></a>
</h2>
<p>So, what does a reprex look like?</p>
<p>All reproducible examples have these few elements in common:</p>
<ul>
<li>a <strong>minimal data set</strong> on which the code can be run and the error reproduced.</li>
<li>a <strong>minimal, runnable</strong> piece of <strong>code</strong> that is <strong>well formatted</strong> and produces the same error when run on the supplied minimal data set.<br>
</li>
<li>call to any necessary <strong>R packages</strong> + any relevant pieces of <strong>information about your R environment</strong> when the issue was encountered.</li>
</ul>
</div>
<div id="creating-a-data-set-for-a-reprex" class="section level2" number="14.4">
<h2>
<span class="header-section-number">14.4</span> Creating a data set for a reprex<a class="anchor" aria-label="anchor" href="#creating-a-data-set-for-a-reprex"><i class="fas fa-link"></i></a>
</h2>
<p>You should always provide some data along with your reproducible example, so that you can easily illustrate your issue. It might not always be possible to share the actual data you’ve been working on. In fact, it is probably more practical to create a “toy” data set which will produce the same error or issue you’ve been dealing with.</p>
<p>There are a few of ways of doing this.</p>
<ul>
<li>You could <strong>create your own data</strong> by using functions such as those in the <code>tibble</code> package. As an example, consider the data frame below. Here we’ve used the <code>tibble()</code> function to create a very small data frame with 4 variables (x, y, z, and w) each with 4 observations (Note: <code>tibble()</code> in the tidyverse is similar to the <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code> function in base R). An alternative way of creating a data frame is through the <code>tribble()</code> function, where <strong>tribble</strong> is simply short for <strong>tr</strong>ansposed <strong>tibble</strong>, the syntax for which is visually easier but a little less common (call <code>?tribble</code> at the R prompt)</li>
</ul>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R">

<span class="va">first_toy_data</span> <span class="op">&lt;-</span> <span class="fu">tibble</span> <span class="op">(</span>
  x <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>,
  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span><span class="op">)</span>,
  z <span class="op">=</span> <span class="va">x</span> <span class="op">+</span> <span class="va">x</span><span class="op">^</span><span class="fl">2</span>,
  w <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"yes"</span>, <span class="st">"no"</span>, <span class="st">"yes"</span>, <span class="st">"yes"</span><span class="op">)</span>
<span class="op">)</span>
<span class="va">first_toy_data</span>
<span class="co">#&gt; # A tibble: 4 × 4</span>
<span class="co">#&gt;       x y         z w    </span>
<span class="co">#&gt;   &lt;int&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;</span>
<span class="co">#&gt; 1     1 a         2 yes  </span>
<span class="co">#&gt; 2     2 b         6 no   </span>
<span class="co">#&gt; 3     3 c        12 yes  </span>
<span class="co">#&gt; 4     4 d        20 yes</span></code></pre></div>
<ul>
<li><p>Alternatively, you could consider using some of the <strong>built-in R data sets</strong>. To see the available data sets, try typing <code><a href="https://rdrr.io/r/utils/data.html">data()</a></code> at the prompt in your R console. As you keep learning R you’ll notice many examples that feature, say, the <em>mtcars</em> or <em>iris</em> data sets. These data sets do get a little boring over time, but you shouldn’t really worry about the dullness of your data when making a reprex. In fact, feel free to bore your helpers with you choices. If you do end up using built in data, you might want to consider using only a subset of the data set (do this by making use of the <code><a href="https://rdrr.io/r/utils/head.html">head()</a></code> or <code><a href="https://rdrr.io/r/base/sample.html">sample()</a></code> functions.)</p></li>
<li><p>Finally, whatever data you are sharing you might find the <code><a href="https://rdrr.io/r/base/dput.html">dput()</a></code> function helpful. The function will write a text representation of your data which others can then copy-and-paste into their own R scripts to get your data. <code>dput</code> essentially generates the R code necessary to recreate your data. The output from <code>dput</code> would look something like this:</p></li>
</ul>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="https://rdrr.io/r/base/dput.html">dput</a></span><span class="op">(</span><span class="va">first_toy_data</span><span class="op">)</span>
<span class="co">#&gt; structure(list(x = 1:4, y = c("a", "b", "c", "d"), z = c(2, 6, </span>
<span class="co">#&gt; 12, 20), w = c("yes", "no", "yes", "yes")), row.names = c(NA, </span>
<span class="co">#&gt; -4L), class = c("tbl_df", "tbl", "data.frame"))</span></code></pre></div>
<p>Running the output from <code><a href="https://rdrr.io/r/base/dput.html">dput()</a></code> will create exactly the data object <code>first_toy_data</code> we created above. This is, indeed, the behavior we want. Run the code below to see for yourself.</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="https://rdrr.io/r/base/structure.html">structure</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span><span class="op">)</span>, z <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">6</span>, 
<span class="fl">12</span>, <span class="fl">20</span><span class="op">)</span>, w <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"yes"</span>, <span class="st">"no"</span>, <span class="st">"yes"</span>, <span class="st">"yes"</span><span class="op">)</span><span class="op">)</span>, row.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">NA</span>, 
<span class="op">-</span><span class="fl">4L</span><span class="op">)</span>, class <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"tbl_df"</span>, <span class="st">"tbl"</span>, <span class="st">"data.frame"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 4 × 4</span>
<span class="co">#&gt;       x y         z w    </span>
<span class="co">#&gt;   &lt;int&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;</span>
<span class="co">#&gt; 1     1 a         2 yes  </span>
<span class="co">#&gt; 2     2 b         6 no   </span>
<span class="co">#&gt; 3     3 c        12 yes  </span>
<span class="co">#&gt; 4     4 d        20 yes</span></code></pre></div>
</div>
<div id="adding-code" class="section level2" number="14.5">
<h2>
<span class="header-section-number">14.5</span> Adding code<a class="anchor" aria-label="anchor" href="#adding-code"><i class="fas fa-link"></i></a>
</h2>
<p>The code in your reprex should be easy to understand and stripped down to the most bare version that would allow those helping you to replicate your errors.</p>
<p>Here are a few tips you might want to keep in mind as you are readying code for a reprex:</p>
<ul>
<li><p>Make sure you only include necessary code!! This simply means including only enough code to reproduce your problem; and not everything that is in your R script.</p></li>
<li><p>Try to format the code properly. This will make it easier for people to read and understand it. If you are unsure of the recommended formatting styles check out the following tidyverse style guide by Hadley Whickham (<a href="https://style.tidyverse.org/" class="uri">https://style.tidyverse.org/</a>).</p></li>
<li><p>Comment your code if necessary (recall that we use <code>#</code> to begin a comment in an R code chunk).<br></p></li>
<li><p>Don’t copy and paste code from the console!! Console output contains characters that would make it difficult for folks to re-run your code without doing additional work. This might be an even bigger problem if you post your copied console output to an online forum. The special characters in the console output might be interpreted as special formatting symbols which can render your post unreadable!<br></p></li>
<li><p>If the code that created your data uses any random generation of values (e.g. <code><a href="https://rdrr.io/r/base/sample.html">sample()</a></code>, <code><a href="https://rdrr.io/r/stats/Normal.html">rnorm()</a></code>, <code><a href="https://rdrr.io/r/stats/Uniform.html">runif()</a></code> etc.) you need to use the <code><a href="https://rdrr.io/r/base/Random.html">set.seed()</a></code> function. This will fix the starting number used in generating a sequence of random values, making your data easy to replicate exactly.</p></li>
<li><p>Always test your code in a new, empty R session! This means that before you upload any code and ask for help on Stack Overflow or Slack or RStudio community forums you should make sure that the code runs outside of the R environment where it was created.</p></li>
</ul>
<p>A useful tool for making reproducible example is the <code>reprex</code> package. We’ll see reprex in action shortly.</p>
</div>
<div id="packages-and-any-other-relevant-information" class="section level2" number="14.6">
<h2>
<span class="header-section-number">14.6</span> Packages and any other relevant information<a class="anchor" aria-label="anchor" href="#packages-and-any-other-relevant-information"><i class="fas fa-link"></i></a>
</h2>
<p>Along with the data and code, when asking for help you should always remember to add the relevant packages at the top of your script. If you use certain functions or package-specific data sets you need to specify the required package (by adding <code><a href="https://rdrr.io/r/base/library.html">library(package_name)</a></code> at the top of your code snippet), otherwise your code will not be exactly reproducible.</p>
<p>In certain situations, it might be useful to add a bit more information.
If you are reporting on an unusual error or believe to have come across a bug in some function or feature of a package, you might need to report the version of R you are using and possibly the operating system. In most cases this would be sufficient, but sometimes you may need to also share the output of <code><a href="https://rdrr.io/r/utils/sessionInfo.html">sessionInfo()</a></code>. Note that while packages are absolutely essential, sharing your version of R or a specific package might not be always necessary.</p>
</div>
<div id="a-closer-look-at-the-reprex-package" class="section level2" number="14.7">
<h2>
<span class="header-section-number">14.7</span> A closer look at the reprex package<a class="anchor" aria-label="anchor" href="#a-closer-look-at-the-reprex-package"><i class="fas fa-link"></i></a>
</h2>
<p>Making reproducible examples is not always easy. Fortunately, there is an R package which makes some of that work a little bit easier.</p>
<p>Below is a quick overview of how you can create a reproducible example with <code>reprex</code>.</p>
<ul>
<li>Start by installing the <code>reprex</code> package</li>
</ul>
<ol style="list-style-type: lower-roman">
<li>We can do this by installing from CRAN:</li>
</ol>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"reprex"</span><span class="op">)</span></code></pre></div>
<ol start="2" style="list-style-type: lower-roman">
<li>or, by fetching the development version from GitHub</li>
</ol>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"tidyverse/reprex"</span><span class="op">)</span></code></pre></div>
<ul>
<li>In an R script write your code, including the data and all necessary calls to packages. For instance, suppose the code in your script is just as the one below.</li>
</ul>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="va">mpg</span> <span class="op">%&gt;%</span> 
  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x<span class="op">=</span><span class="va">displ</span>, y<span class="op">=</span><span class="va">hwy</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">geom_point</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>color<span class="op">=</span><span class="va">class</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">geom_smooth</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<ul>
<li><p>Highlight the code (including the library statement) and copy it to your clipboard</p></li>
<li><p>In your console type <code>reprex()</code> and press Enter (you’ll need to wait a second or two for R to render your reproducible example).<br></p></li>
<li><p>Once the reprex has been rendered, it is automatically stored on your clipboard and you could simply paste it online and share it with others.<br></p></li>
<li><p>To see what R actually generates once reprex() has been called in the console we’ll paste the content of the clipboard below.</p></li>
</ul>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="va">mpg</span> <span class="op">%&gt;%</span> 
  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x<span class="op">=</span><span class="va">displ</span>, y<span class="op">=</span><span class="va">hwy</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">geom_point</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>color<span class="op">=</span><span class="va">class</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">geom_smooth</span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Error: `mapping` must be created by `aes()`</span>
<span class="co">#&gt; Did you use %&gt;% instead of +?</span></code></pre></div>
<p><sup>Created on 2021-01-18 by the <a href="https://reprex.tidyverse.org">reprex package</a> (v0.3.0)</sup></p>
</div>
<div id="exercises-1" class="section level2" number="14.8">
<h2>
<span class="header-section-number">14.8</span> Exercises<a class="anchor" aria-label="anchor" href="#exercises-1"><i class="fas fa-link"></i></a>
</h2>
<div id="exercise-1" class="section level3" number="14.8.1">
<h3>
<span class="header-section-number">14.8.1</span> Exercise 1<a class="anchor" aria-label="anchor" href="#exercise-1"><i class="fas fa-link"></i></a>
</h3>
<p>Suppose you are interested in seeking help from the online RStudio community for an error you get based on the code below.</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu">tibble</span><span class="op">(</span>
  group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"trtmnt"</span>, <span class="st">"control"</span>, <span class="st">"control"</span>, <span class="st">"control"</span>, <span class="st">"trtmnt"</span>, <span class="st">"control"</span>, <span class="st">"trtmnt"</span>, <span class="st">"trtmnt"</span>, <span class="st">"trtmnt"</span>, <span class="st">"control"</span><span class="op">)</span>,
  msrmnt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">5</span>, <span class="fl">0.5</span><span class="op">)</span>, <span class="co">## rnorm(10,5,1.5) generates 10 random normal variables centered at 5 with sd of 1.5</span>
                             <span class="co">## use ?rnorm to check out the function's arguments</span>
  improvement <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"yes"</span>, <span class="st">"no"</span>, <span class="st">"no"</span>, <span class="st">"no"</span>, <span class="st">"no"</span>, <span class="st">"no"</span>, <span class="st">"yes"</span>, <span class="st">"no"</span>, <span class="st">"no"</span>, <span class="st">"yes"</span><span class="op">)</span>
<span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>new_var1 <span class="op">=</span> <span class="va">msrmnt</span> <span class="op">+</span> <span class="va">improvement</span><span class="op">)</span></code></pre></div>
<p><strong>PART A</strong></p>
<!-- ```{r ex1reprexp1, echo=FALSE} -->
<!--   question("As it is written, is the above snippet of code a viable reproducible example?", -->
<!--            answer("Yes"),  -->
<!--            answer("No", correct = TRUE) -->
<!--            ) -->
<!-- ``` -->
<!-- **PART B**   -->
<!-- How might you fix it? Add any missing pieces and turn the code chunk below into a usable reprex. -->
<!-- ```{r ex1reprexp2, exercise=TRUE, exercise.eval = FALSE} -->
<!-- ``` -->
<p><strong>PART C</strong></p>
<p>The error you should be getting should involve the <code>mutate()</code> function. Specifically the error message should be:</p>
<pre><code>#&gt; Error: Problem with `mutate()` input `new_var1`. 
#&gt; x non-numeric argument to binary operator 
#&gt; ℹ Input `new_var1` is `msrmnt + improvement`.</code></pre>
<p>Use the <code>reprex()</code> function in the code chunk below to check whether you’ve correctly modified the code in Part B. You can do this by copying and pasting the correct code inside the curly brackets provided in the <code>reprex</code> function. See what happens.</p>
<!-- ```{r ex1reprexp3, exercise=TRUE, exercise.lines=15} -->
<!-- reprex::reprex({ -->
<!--   set.seed(789) -->
<!--   library(tidyverse) -->
<!--   tibble( -->
<!--   group = c("trtmnt", "control", "control", "control", "trtmnt", "control", "trtmnt", "trtmnt", "trtmnt", "control") -->
<!-- ) } -->
<!-- ) -->
<!-- ``` -->
<!-- ```{r ex1reprexp3-solution} -->
<!-- reprex::reprex({ -->
<!--   set.seed(789) -->
<!--   library(tidyverse) -->
<!--   tibble( -->
<!--     group = c("trtmnt", "control", "control", "control", "trtmnt", "control", "trtmnt", "trtmnt", "trtmnt", "control"), -->
<!--     msrmnt = rnorm(10,5, 0.5), ## rnorm(10,5,1.5) generates 10 random normal variables centered at 5 with sd of 1.5 -->
<!--     ## use ?rnorm to check out the function's arguments -->
<!--     improvement = c("yes", "no", "no", "no", "no", "no", "yes", "no", "no", "yes") -->
<!--   ) %>%  -->
<!--     mutate(new_var1 = msrmnt + improvement,  -->
<!--            new_var2 = 2 * msrmnt) -->
<!--   } -->
<!-- ) -->
<!-- ``` -->
</div>
</div>
<div id="next-steps-7" class="section level2" number="14.9">
<h2>
<span class="header-section-number">14.9</span> Next Steps<a class="anchor" aria-label="anchor" href="#next-steps-7"><i class="fas fa-link"></i></a>
</h2>
<p>In this lesson you learned the basics of making a reproducible example. If you are interested in some additional resources, consider the following list of do’s and don’ts from the folks that made the <code>reprex</code> package: <a href="https://reprex.tidyverse.org/articles/reprex-dos-and-donts.html" class="uri">https://reprex.tidyverse.org/articles/reprex-dos-and-donts.html</a></p>
<p>For even more information on <code>reprex</code>, check out Jenny Bryan webinar on creating reproducible examples with reprex: <a href="https://reprex.tidyverse.org/articles/articles/learn-reprex.html" class="uri">https://reprex.tidyverse.org/articles/articles/learn-reprex.html</a></p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="when-your-code-doesnt-work.html"><span class="header-section-number">13</span> When your code doesn’t work</a></div>
<div class="next"><a href="how-to-make-the-most-of-rs-cryptic-error-messages.html"><span class="header-section-number">15</span> How to make the most of R’s cryptic error messages</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#making-reproducible-examples"><span class="header-section-number">14</span> Making Reproducible Examples</a></li>
<li><a class="nav-link" href="#introduction-12"><span class="header-section-number">14.1</span> Introduction</a></li>
<li><a class="nav-link" href="#seeking-help-the-helpful-way"><span class="header-section-number">14.2</span> Seeking help the helpful way</a></li>
<li><a class="nav-link" href="#elements-of-a-reprex"><span class="header-section-number">14.3</span> Elements of a reprex</a></li>
<li><a class="nav-link" href="#creating-a-data-set-for-a-reprex"><span class="header-section-number">14.4</span> Creating a data set for a reprex</a></li>
<li><a class="nav-link" href="#adding-code"><span class="header-section-number">14.5</span> Adding code</a></li>
<li><a class="nav-link" href="#packages-and-any-other-relevant-information"><span class="header-section-number">14.6</span> Packages and any other relevant information</a></li>
<li><a class="nav-link" href="#a-closer-look-at-the-reprex-package"><span class="header-section-number">14.7</span> A closer look at the reprex package</a></li>
<li>
<a class="nav-link" href="#exercises-1"><span class="header-section-number">14.8</span> Exercises</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#exercise-1"><span class="header-section-number">14.8.1</span> Exercise 1</a></li></ul>
</li>
<li><a class="nav-link" href="#next-steps-7"><span class="header-section-number">14.9</span> Next Steps</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/rstudio/bookdown-demo/blob/master/015-operating_in_an-reprex.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/rstudio/bookdown-demo/edit/master/015-operating_in_an-reprex.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>DoSS Toolkit</strong>" was written by Various authors. It was last built on 2021-09-06.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
